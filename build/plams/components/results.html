

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
<META name="ROBOTS" content="NOINDEX, NOFOLLOW">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Results &mdash; PLAMS 2021.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme_tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/panels-bootstrap.min.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PLAMS 2021.1 documentation" href="../index.html"/>
        <link rel="up" title="Components overview" href="components.html"/>
        <link rel="next" title="Job runners" href="runners.html"/>
        <link rel="prev" title="Jobs" href="jobs.html"/> 

  
  <script src="../_static/js/jquery.min.js"></script>
  <script src="../_static/js/bootstrap.min.js"></script>
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/app.js"></script>
<script type="text/javascript">
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NCRWHZZ');</script>
<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav" role="document">
  <!--STARTNOSOLR-->
  <header class="site-header navbar-fixed-top compact">
      <nav class="main navbar navbar-default">
        <div class="headerbar_container">
          <a role="button" href="/free-trial/" class="btn btn-sm btn-primary">Free trial</a>
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="navbar-brand">
              <a class="logo" href="https://www.scm.com">
                <img class="logo-small" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="Software for Chemistry &amp; Materials" />
                <img class="logo-full" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo.svg" alt="Software for Chemistry &amp; Materials" />
              </a>
            </div>
          </div>
          <div class="nav-wrapper">
            <div class="collapse navbar-collapse">
              <ul id="menu-primary-navigation" class="nav navbar-nav"><li id="menu-item-40077" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-40077"><a title="Applications" href="https://www.scm.com/applications/">Applications</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a title="Products" href="https://www.scm.com/amsterdam-modeling-suite/">Products</a></li>
<li id="menu-item-36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-36"><a title="Support" href="https://www.scm.com/support/">Support</a></li>
<li id="menu-item-37" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-37"><a title="About us" href="https://www.scm.com/about-us/">About us</a></li>
</ul>                           <span class="search"><a class="menu_search_link" href="https://www.scm.com/search.php"></a><span class="sr-only">Search</span></span>
            </div>
          </div>
        </div>
      </nav>
 </header>
    

   
  <div id="doc-wrapper">
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/plams_logo.png" class="logo" />
          
          </a>

          
          
  <ul>
      <li class="wy-breadcrumbs-aside">
        
           
           
        
      </li>
  </ul>
 
<!--ENDNOSOLR-->
             <!--STARTNOSOLR-->
<div role="search">
  <form id="rtd-search-form" class="wy-form search-docs-form" action="https://www.scm.com/search.php" method="get">
  <div class="input-group">
    <input type="text" name="search" placeholder="Search PLAMS" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <input type="hidden" name="root" value="doctrunk" />


    <input type="hidden" name="cat" value="doc-scripting" />


    <span class="input-group-btn">
			<button type="submit" class="btn btn-primary"><span class="sr-only">Search</span><span class="fa fa-search"></span></button>
		</span>
	</div>
  </form>
</div>
<!--ENDNOSOLR-->
          

          
        </div>
<!--STARTNOSOLR-->
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-is-plams">What is PLAMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-can-be-done-with-plams">What can be done with PLAMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#simple-example">Simple example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-plams-is-not">What PLAMS is <em>not</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#about-this-documentation">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../started.html#library-contents">Library contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../started.html#installing-plams">Installing PLAMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../started.html#updating-plams">Updating PLAMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../started.html#running-plams">Running PLAMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../started.html#defaults-file">Defaults file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../started.html#the-launch-script">The launch script</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../started.html#working-folder-location">Working folder location</a></li>
<li class="toctree-l3"><a class="reference internal" href="../started.html#passing-variables">Passing variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../started.html#importing-past-jobs">Importing past jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../started.html#restarting-failed-script">Restarting failed script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../started.html#multiple-input-scripts">Multiple input scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="components.html">Components overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="settings.html#tree-like-structure">Tree-like structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#dot-notation">Dot notation</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#case-sensitivity">Case sensitivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#global-settings">Global settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jobs.html">Jobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jobs.html#preparing-a-job">Preparing a job</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#contents-of-job-settings">Contents of job settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#default-settings">Default settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html#running-a-job">Running a job</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#name-conflicts">Name conflicts</a></li>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#prerun-and-postrun-methods">Prerun and postrun methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#preview-mode">Preview mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html#job-api">Job API</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html#single-jobs">Single jobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#subclassing-singlejob">Subclassing SingleJob</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jobs.html#multijobs">Multijobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jobs.html#using-multijob">Using MultiJob</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#files-in-the-job-folder">Files in the job folder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synchronization-of-parallel-job-executions">Synchronization of parallel job executions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cleaning-job-folder">Cleaning job folder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cleaning-for-multijobs">Cleaning for multijobs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runners.html">Job runners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="runners.html#local-job-runner">Local job runner</a></li>
<li class="toctree-l3"><a class="reference internal" href="runners.html#remote-job-runner">Remote job runner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jobmanager.html">Job manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jobmanager.html#rerun-prevention">Rerun prevention</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobmanager.html#pickling">Pickling</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobmanager.html#restarting-scripts">Restarting scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="jobmanager.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Public functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="functions.html#logging">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="functions.html#binding-decorators">Binding decorators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="molecule.html">Molecule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mol_api.html">Molecule</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mol_api.html#atom-labeling">Atom labeling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="atombond.html">Atom</a></li>
<li class="toctree-l3"><a class="reference internal" href="atombond.html#bond">Bond</a></li>
<li class="toctree-l3"><a class="reference internal" href="mol_rdkit.html">RDKit interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="mol_ase.html">ASE interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utils.html#periodic-table">Periodic Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html#units">Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html#geometry-tools">Geometry tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html#file-format-conversion-tools">File format conversion tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="trajectories.html">Trajectories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="xyz.html">XYZ trajectory files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="xyz.html#xyz-history-files">XYZ history files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rkf.html">RKF trajectory files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rkf.html#rkf-history-files">RKF history files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dcd.html">DCD trajectory files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces/interfaces.html">Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/amssuite.html">Amsterdam Modeling Suite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/ams.html">AMS driver and engines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/ams.html#preparing-input">Preparing input</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/ams.html#preparing-runscript">Preparing runscript</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/ams.html#molecule-handling">Molecule handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/ams.html#amsjob-api">AMSJob API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/ams.html#amsresults-api">AMSResults API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/amsworker.html">AMS worker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/amsworker.html#amsworker-api">AMSWorker API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/amsworker.html#amsworkerresults-api">AMSWorkerResults API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/amsworker.html#amsworkerpool-api">AMSWorkerPool API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postadf.html">Analysis tools: Densf, FCF, analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/kffiles.html">KF files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/crs.html">COSMO-RS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#settings-with-multiple-compound">Settings with multiple compound</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#adf-and-crsjob">ADF and CRSJob</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#cosmo-rs-parameters">COSMO-RS Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#data-analyses-and-plotting">Data analyses and plotting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crs.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/adf.html">ADF (pre-2020 version)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/adf.html#preparing-input">Preparing input</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/adf.html#preparing-runscript">Preparing runscript</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/adf.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/reaxff.html">ReaxFF (pre-2019 version)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/thirdparty.html">Other programs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/cp2k.html">CP2K</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/cp2k.html#settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/cp2k.html#molecule-parsing">Molecule parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/cp2k.html#loading-jobs">Loading jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/cp2k.html#molecule-loading">Molecule loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/cp2k.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/crystal.html">Crystal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crystal.html#preparing-a-calculation">Preparing a calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crystal.html#molecule-parsing">Molecule parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crystal.html#results-extraction">Results extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crystal.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/crystal.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/dftbplus.html">DFTB+</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dftbplus.html#preparing-a-calculation">Preparing a calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dftbplus.html#results-extraction">Results extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dftbplus.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dftbplus.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/dirac.html">Dirac</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dirac.html#preparing-a-calculation">Preparing a calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dirac.html#results-extraction">Results extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/dirac.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/mopac.html">MOPAC (standalone program)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/mopac.html#preparing-input">Preparing input</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/mopac.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/orca.html">ORCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/orca.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/raspa.html">RASPA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/raspa.html#input">Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/raspa.html#molecule-parsing">Molecule parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/raspa.html#loading-jobs">Loading jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../interfaces/raspa.html#api">API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/examples.html#id1">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/He2DissociationCurve.html">Helium dimer dissociation curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/WaterOptimization.html">Geometry optimization of water</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/ManyJobsInParallel.html">Many jobs in parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/BasisSetBenchmark.html">Benchmark accuracy of basis sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/ExcitationsWorkflow.html">Workflow: filtering molecules based on excitation energies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/ChargeTransferIntegralsADF.html">Charge transfer integrals with ADF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/gammascan.html">Tuning the range separation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/examples.html#pre-made-recipes">Pre-made recipes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/ams_crs.html">ADF and COSMO-RS workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/adffragment.html">ADF fragment job</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/ReorganizationEnergy.html">Reorganization Energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/adfnbo.html">NBO with ADF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/numgrad.html">Numerical gradients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/numhess.html">Numerical Hessian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/molecule_gun.html">ReaxFF molecule gun</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/global_minimum.html">Global Minimum Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/vibrationASE.html">Vibrational analysis with ASE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/vibrationASE.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/vibrationASE.html#api">API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/cookbook.html">Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/cookbook.html#settings-and-input">Settings and input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#create-an-input-block-with-an-header">Create an input block with an header</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#create-an-empty-input-block">Create an empty input block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#convert-an-ams-text-input-into-an-ams-job">Convert an AMS text input into an AMS job</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#convert-an-ams-text-input-into-settings-object">Convert an AMS text input into settings object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#convert-an-ams-run-file-into-an-amsjob">Convert an AMS .run file into an AMSJob</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/cookbook.html#molecules">Molecules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#generate-a-molecule-from-a-smiles-string">Generate a molecule from a SMILES string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#counting-rings">Counting rings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/cookbook.html#extracting-results">Extracting Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#directly-from-functions">Directly from Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#examples-total-energy-and-final-structure">Examples: Total Energy and Final Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#amsresults-api-functions">AMSResults API Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#from-the-rkf-interface">From the RKF Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#finding-section-variable-pairs">Finding Section/Variable Pairs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#from-python-directories">From Python Directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#kfbrowser">KFBrowser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#from-md-trajectories">From MD trajectories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#general-md-properties">General MD properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cookbook/cookbook.html#molecules-from-trajectories">Molecules from trajectories</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/cookbook.html#accessing-old-jobs">Accessing Old Jobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#binding-native-plams-jobs">Binding Native PLAMS Jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cookbook/cookbook.html#binding-old-rkf-files">Binding old RKF Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../citations.html">Citations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PLAMS</a>
      </nav>
<!--ENDNOSOLR-->

      
      <div class="wy-nav-content">
        <div class="rst-content">
        <!--STARTNOSOLR-->
<div class="header" role="navigation" aria-label="breadcrumbs navigation">
 
  <ul class="wy-breadcrumbs">
    <li><a href="../PLAMS.html/../../Documentation/index.html">Documentation</a>/</li>
    <li><a href="../index.html">PLAMS</a>/</li>
      
          <li><a href="components.html">Components overview</a>/</li>
      
    <li class="orange-text">Results</li>
  </ul>
  <p>
 
</div>
<!--ENDNOSOLR-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="results">
<h1>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h1>
<p>The goal of <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> object is to take care of the job folder after the execution is finished: gather information about produced files, help to manage them and extract data of interest from them.
Every <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job" title="scm.plams.core.basejob.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a> instance has an associated <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance created automatically on job creation and stored in its <code class="docutils literal notranslate"><span class="pre">results</span></code> attribute.</p>
<p>From the technical standpoint, <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> class is the part of PLAMS environment responsible for thread safety and proper synchronization in parallel job execution.</p>
<div class="section" id="files-in-the-job-folder">
<h2>Files in the job folder<a class="headerlink" href="#files-in-the-job-folder" title="Permalink to this headline">¶</a></h2>
<p>Directly after the execution of a job is finished (see <a class="reference internal" href="jobs.html#job-life-cycle"><span class="std std-ref">Running a job</span></a>), the job folder gets scanned by <a class="reference internal" href="#scm.plams.core.results.Results.collect" title="scm.plams.core.results.Results.collect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collect()</span></code></a> method.
All files present in the job folder, including files in subfolders, are gathered in a list stored in <code class="docutils literal notranslate"><span class="pre">files</span></code> attribute of the <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance.
Entries in this list correspond to paths to files relative to the job folder, so files on the top level are stored by their names and files in subfolders by something like <code class="docutils literal notranslate"><span class="pre">childjob/childjob.out</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Files produced by <a class="reference internal" href="jobmanager.html#pickling"><span class="std std-ref">Pickling</span></a> are excluded from the <code class="docutils literal notranslate"><span class="pre">files</span></code> list.
Every file with <code class="docutils literal notranslate"><span class="pre">.dill</span></code> extension is simply ignored by <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a>.</p>
</div>
<p>If you need an absolute path to some file, the bracket notation known from dictionaries is defined for <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> objects.
When supplied with an entry from <code class="docutils literal notranslate"><span class="pre">files</span></code> list, it returns the absolute path to that file.
The bracket notation is read-only:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>
<span class="go">[&#39;plamsjob.err&#39;, &#39;plamsjob.in&#39;, &#39;plamsjob.out&#39;, &#39;plamsjob.run&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;plamsjob.out&#39;</span><span class="p">])</span>
<span class="go">/home/user/plams.12345/plamsjob/plamsjob.in</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;newfile.txt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;/home/user/abc.txt&#39;</span>
<span class="go">TypeError: &#39;Results&#39; object does not support item assignment</span>
</pre></div>
</div>
<p>In the bracket notation, and in every other context regarding <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a>, whenever you need to pass a string with a filename, a shortcut <code class="docutils literal notranslate"><span class="pre">$JN</span></code> can be used for the job name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;$JN.out&#39;</span><span class="p">,</span> <span class="s1">&#39;outputfile&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">grep_file</span><span class="p">(</span><span class="s1">&#39;$JN.err&#39;</span><span class="p">,</span> <span class="s1">&#39;NORMAL TERMINATION&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;$JN.run&#39;</span><span class="p">])</span>
<span class="go">/home/user/plams.12345/plamsjob/plamsjob.run</span>
</pre></div>
</div>
<p>Some produce produce fixed name files during execution.
If one wants to automatically rename those files it can be done with <code class="docutils literal notranslate"><span class="pre">_rename_map</span></code> class attribute – a dictionary defining which files should be renamed and how.
Renaming is done during <a class="reference internal" href="#scm.plams.core.results.Results.collect" title="scm.plams.core.results.Results.collect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collect()</span></code></a>.</p>
<p>In the generic <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> class <code class="docutils literal notranslate"><span class="pre">_rename_map</span></code> is an empty dictionary.</p>
</div>
<div class="section" id="synchronization-of-parallel-job-executions">
<span id="parallel"></span><h2>Synchronization of parallel job executions<a class="headerlink" href="#synchronization-of-parallel-job-executions" title="Permalink to this headline">¶</a></h2>
<p>One of the main advantages of PLAMS is the ability to run jobs in parallel.
The whole job execution logic is designed in a way that does not require a special parallel script for a parallel workflow execution.
Exactly the same scripts can be used for both serial and parallel execution.</p>
<p>However, it is important to have a basic understanding of how parallelism in PLAMS works to avoid potential deadlocks and maximize the performance of your scripts.</p>
<p>To run your job in parallel you need to use a parallel job runner:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pjr</span> <span class="o">=</span> <span class="n">JobRunner</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">myresults</span> <span class="o">=</span> <span class="n">myjob</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">jobrunner</span><span class="o">=</span><span class="n">pjr</span><span class="p">)</span>
</pre></div>
</div>
<p>Parallelism is not something that is “on” or “off” for the entire script: within one script you can use multiple job runners, some of them may be parallel and some may be serial.
However, if you wish to always use the same <a class="reference internal" href="runners.html#scm.plams.core.jobrunner.JobRunner" title="scm.plams.core.jobrunner.JobRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">JobRunner</span></code></a> instance, it is convenient to set is as default at the beginning of your script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">default_jobrunner</span> <span class="o">=</span> <span class="n">JobRunner</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>All <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> calls without explicit <code class="docutils literal notranslate"><span class="pre">jobrunner</span></code> argument will now use that instance.</p>
<p>When you run a job using a serial job runner, all steps of <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> (see <a class="reference internal" href="jobs.html#job-life-cycle"><span class="std std-ref">Running a job</span></a>) are done in the main thread and <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance is returned at the end.
On the other hand, when a parallel job runner is used, a new thread is spawned at the beginning of <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> and all further work is done in this thread.
Meanwhile the main thread proceeds with the next part of the script.
The important thing is that the <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method called in the main thread returns a <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance and allows the whole script to proceed even though the job is still running in a separate thread.
This <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance acts as a “guardian” protecting the job from being accessed while it is still running.
Every time you call a method of a <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance, the guardian checks the status of the job and, if the job is not yet finished, forces the thread from which the call was done to wait.
Thanks to that there is no need to explicitly put synchronization points in the script – results requests serve for that purpose.</p>
<div class="admonition danger">
<p class="first admonition-title">Warning</p>
<p class="last">You should <strong>NEVER</strong> access results in any other way than by a <strong>method</strong> of some <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance.</p>
</div>
<p>The <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> class is designed in such a way, that each of its methods automatically gets wrapped with the access guardian when a <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance is created.
That behavior holds for any <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> subclasses and new methods defined by user, so no need to worry about guardian when extending <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> functionality or subclassing it.
Also <a class="reference internal" href="functions.html#binding-decorators"><span class="std std-ref">Binding decorators</span></a> recognize when you try to use them with <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> and act accordingly.
Methods whose names end with two underscores, as well as <a class="reference internal" href="#scm.plams.core.results.Results.refresh" title="scm.plams.core.results.Results.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh()</span></code></a>, <a class="reference internal" href="#scm.plams.core.results.Results.collect" title="scm.plams.core.results.Results.collect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">collect()</span></code></a>, <a class="reference internal" href="#scm.plams.core.results.Results._clean" title="scm.plams.core.results.Results._clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_clean()</span></code></a> are not wrapped with the guardian.
The guardian gives special privileges (earlier access) to <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.postrun" title="scm.plams.core.basejob.Job.postrun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">postrun()</span></code></a> and <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.check" title="scm.plams.core.basejob.Job.check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check()</span></code></a> (see <a class="reference internal" href="jobs.html#prerun-postrun"><span class="std std-ref">Prerun and postrun methods</span></a>).</p>
<p>If you never request any results of your job and just want to run it, <a class="reference internal" href="functions.html#scm.plams.core.functions.finish" title="scm.plams.core.functions.finish"><code class="xref py py-func docutils literal notranslate"><span class="pre">finish()</span></code></a> method works as a global synchronization point.
It waits for all spawned threads to end before cleaning the environment and exiting your script.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>This section provides a handful of examples together with an explanation of common pitfalls and good practices one should keep in mind when writing parallel PLAMS scripts.</p>
<p>Let us start with a simple parallel script that takes all <code class="docutils literal notranslate"><span class="pre">.xyz</span></code> files in a given folder and for each one calculates the dipole moment magnitude using a single point ADF calculation:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">default_jobrunner</span> <span class="o">=</span> <span class="n">JobRunner</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">folder</span> <span class="o">=</span> <span class="s1">&#39;/home/user/xyz&#39;</span>
<span class="n">molecules</span> <span class="o">=</span> <span class="n">read_molecules</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">ams</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="s1">&#39;singlepoint&#39;</span>
<span class="n">s</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">adf</span><span class="o">.</span><span class="n">basis</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;DZP&#39;</span>
<span class="n">s</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">adf</span><span class="o">.</span><span class="n">xc</span><span class="o">.</span><span class="n">gga</span> <span class="o">=</span> <span class="s1">&#39;PBE&#39;</span>

<span class="n">jobs</span> <span class="o">=</span> <span class="p">[</span><span class="n">AMSJob</span><span class="p">(</span><span class="n">molecule</span><span class="o">=</span><span class="n">molecules</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">molecules</span><span class="p">)]</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">job</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">]</span>

<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="n">dipole_vec</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">readrkf</span><span class="p">(</span><span class="s1">&#39;AMSResults&#39;</span><span class="p">,</span> <span class="s1">&#39;DipoleMoment&#39;</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="s1">&#39;engine&#39;</span><span class="p">)</span>
    <span class="n">dipole_magn</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">a</span><span class="o">*</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dipole_vec</span><span class="p">])</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{}</span><span class="se">\t\t</span><span class="s1">{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">dipole_magn</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>For an explanation purpose let us assume that <code class="docutils literal notranslate"><span class="pre">/home/user/xyz</span></code> contains three files: <code class="docutils literal notranslate"><span class="pre">ammonia.xyz</span></code>, <code class="docutils literal notranslate"><span class="pre">ethanol.xyz</span></code>, <code class="docutils literal notranslate"><span class="pre">water.xyz</span></code>.
When you run this script the standard output will look something like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[17:31:52] PLAMS working folder: /home/user/plams_workdir
[17:31:52] JOB &#39;ammonia&#39; STARTED
[17:31:52] JOB &#39;ethanol&#39; STARTED
[17:31:52] JOB &#39;water&#39; STARTED
[17:31:52] Waiting for job ammonia to finish
[17:31:56] JOB &#39;water&#39; SUCCESSFUL
[17:31:56] JOB &#39;ammonia&#39; SUCCESSFUL
ammonia     0.5949493793257181
[17:31:56] Waiting for job ethanol to finish
[17:32:01] JOB &#39;ethanol&#39; SUCCESSFUL
ethanol     0.5946259677193089
water       0.7082267171673067
</pre></div>
</div>
<p>As you can see, print statements from line 17 are mixed with automatic logging messages.
Let us examine in more detail what causes such a behavior.
To do so we will follow the main thread.
In line 11 an alphabetically sorted list of jobs is created, so the job named <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> will come after <code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code> and before <code class="docutils literal notranslate"><span class="pre">'water'</span></code>.
Line 12 is a for loop that goes along the list of jobs, runs each of them and collects their <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instances in a new list called <code class="docutils literal notranslate"><span class="pre">results</span></code>.
If we were using a serial job runner, all the computational work would happen in line 12: the <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> job would start only when <code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code> was finished, <code class="docutils literal notranslate"><span class="pre">'water'</span></code> would wait for <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> and the main thread would proceed to the next line only when <code class="docutils literal notranslate"><span class="pre">'water'</span></code> is done.</p>
<p>In our case, however, we are using a parallel job runner.
The first job (<code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code>) is started and quickly moves to a separate thread, allowing the main thread to proceed to another instruction, which in this case is the <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method of the <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> job.
Thanks to that all three jobs are started almost immediately one after another, corresponding <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> are gathered and the main thread proceeds to line 14, while the three jobs are running “in the background”, handled by separate threads.
Now the main thread goes along the <code class="docutils literal notranslate"><span class="pre">results</span></code> list (which follows the same order as <code class="docutils literal notranslate"><span class="pre">jobs</span></code>) and tries to obtain a dipole vector from each job.
It uses <code class="docutils literal notranslate"><span class="pre">readkf</span></code> method of <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance associated with the <code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code> job and since this job is still running, the main thread hangs and waits for the job to finish (<em>“Waiting for job ammonia to finish”</em>).
Meanwhile we can see that the <code class="docutils literal notranslate"><span class="pre">'water'</span></code> job ends and this fact is logged.
Quickly after that also the <code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code> job finishes and the main thread obtains <code class="docutils literal notranslate"><span class="pre">dipole_vec</span></code>, calculates <code class="docutils literal notranslate"><span class="pre">dipole_magn</span></code> and prints it.
Now the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop in line 14 continues, this time for the <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> job.
This job seems to be a bit longer than <code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code>, so it is still running and the main thread again hangs on the <code class="docutils literal notranslate"><span class="pre">readkf</span></code> method (<em>“Waiting for job ethanol to finish”</em>).
After finally obtaining the dipole vector of ethanol, calculating the magnitude and printing it, the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop goes on with its last iteration, the <code class="docutils literal notranslate"><span class="pre">'water'</span></code> job.
This time there is no need to wait since the job is already finished - the result is calculated and printed immediately.</p>
<p>Knowing that, let us wonder what would happen if the order of jobs was different.
If <code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code> was the first job on the list, by the time its results would be obtained and printed, both other jobs would have finished, so no further waiting would be needed.
On the other hand, if the order was <code class="docutils literal notranslate"><span class="pre">'water'</span></code>–<code class="docutils literal notranslate"><span class="pre">'ammonia'</span></code>–<code class="docutils literal notranslate"><span class="pre">'ethanol'</span></code>, the main thread would have to wait every time when executing line 15.</p>
<p>The most important lesson from the above is: the order in which you start jobs does not matter (too much), it is the order of results requests that makes the difference.
Of course in our very simple example it influences only the way in which results are mixed with log messages, but in more complicated workflows it can directly affect the total runtime of your script.</p>
<p>By the way, to avoid print statements being mixed with logging messages one could first store the data and print it only when all the results are ready:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">to_print</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="n">dipole_vec</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">readkf</span><span class="p">(</span><span class="s1">&#39;Properties&#39;</span><span class="p">,</span> <span class="s1">&#39;Dipole&#39;</span><span class="p">)</span>
    <span class="n">dipole_magn</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">a</span><span class="o">*</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dipole_vec</span><span class="p">])</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="n">to_print</span> <span class="o">+=</span> <span class="p">[(</span><span class="n">r</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">dipole_magn</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">nam</span><span class="p">,</span> <span class="n">dip</span> <span class="ow">in</span> <span class="n">to_print</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\t\t</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nam</span><span class="p">,</span> <span class="n">dip</span><span class="p">))</span>
</pre></div>
</div>
<p>Another way could be disabling logging to the standard output by putting <code class="docutils literal notranslate"><span class="pre">config.log.stdout</span> <span class="pre">=</span> <span class="pre">0</span></code> at the beginning of the script (see <a class="reference internal" href="functions.html#scm.plams.core.functions.log" title="scm.plams.core.functions.log"><code class="xref py py-func docutils literal notranslate"><span class="pre">log()</span></code></a>).</p>
<p>Coming back to the main topic of our considerations, as we have seen above, parallelism in PLAMS is driven by results request.
Not only the order of requests is important, but also (probably even more important) the place from which they are made.
To picture this matter we will use the following script that performs geometry optimization followed by frequencies calculation of the optimized geometry:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">default_jobrunner</span> <span class="o">=</span> <span class="n">JobRunner</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">go</span> <span class="o">=</span> <span class="n">AMSJob</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;GeomOpt&#39;</span><span class="p">,</span> <span class="n">molecule</span><span class="o">=</span><span class="n">Molecule</span><span class="p">(</span><span class="s1">&#39;geom.xyz&#39;</span><span class="p">))</span>
<span class="n">go</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">ams</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="s1">&#39;GeometryOptimization&#39;</span>
<span class="o">...</span> <span class="c1">#other settings adjustments for geometry optimisation</span>
<span class="n">go_results</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">opt_geo</span> <span class="o">=</span> <span class="n">go_results</span><span class="o">.</span><span class="n">get_main_molecule</span><span class="p">()</span>

<span class="n">freq</span> <span class="o">=</span> <span class="n">AMSJob</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Freq&#39;</span><span class="p">,</span> <span class="n">molecule</span><span class="o">=</span><span class="n">opt_geo</span><span class="p">)</span>
<span class="n">freq</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">ams</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">NormalModes</span> <span class="o">=</span> <span class="s1">&#39;Yes&#39;</span>
<span class="o">...</span> <span class="c1">#other settings adjustments for frequency run</span>
<span class="n">freq_results</span> <span class="o">=</span> <span class="n">freq</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">do_other_work</span><span class="p">()</span> <span class="c1"># further part of the script, independent of GeomOpt and Freq</span>
</pre></div>
</td></tr></table></div>
<p>Again let us follow the main thread.
In line 8 we can see a results request for the optimized geometry from “GeomOpt” job.
The main thread will wait for that job to finish before preparing the “Freq” job and running it.
That means <code class="docutils literal notranslate"><span class="pre">do_other_work()</span></code>, whatever it is, will not start before “GeomOpt” is done, even though it could, since it is independent of GeomOpt and Freq results.
This is bad.
The main thread is wasting time that could be used for <code class="docutils literal notranslate"><span class="pre">do_other_work()</span></code> on idle waiting.
We need to fix the script:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">default_jobrunner</span> <span class="o">=</span> <span class="n">JobRunner</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">go</span> <span class="o">=</span> <span class="n">AMSJob</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;GeomOpt&#39;</span><span class="p">,</span> <span class="n">molecule</span><span class="o">=</span><span class="n">Molecule</span><span class="p">(</span><span class="s1">&#39;geom.xyz&#39;</span><span class="p">))</span>
<span class="n">go</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">ams</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="s1">&#39;GeometryOptimization&#39;</span>
<span class="o">...</span> <span class="c1">#other settings adjustments for geometry optimisation</span>
<span class="n">go_results</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">freq</span> <span class="o">=</span> <span class="n">AMSJob</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Freq&#39;</span><span class="p">)</span>
<span class="n">freq</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">ams</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">NormalModes</span> <span class="o">=</span> <span class="s1">&#39;Yes&#39;</span>
<span class="o">...</span> <span class="c1">#other settings adjustments for frequency run</span>

<span class="nd">@add_to_instance</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">prerun</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">molecule</span> <span class="o">=</span> <span class="n">go_results</span><span class="o">.</span><span class="n">get_main_molecule</span><span class="p">()</span>

<span class="n">freq_results</span> <span class="o">=</span> <span class="n">freq</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="n">do_other_work</span><span class="p">()</span> <span class="c1"># further part of the script, independent of GeomOpt and Freq</span>
</pre></div>
</td></tr></table></div>
<p>The results request (<code class="docutils literal notranslate"><span class="pre">go_results.get_main_molecule()</span></code>) have been moved from the main script to the <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.prerun" title="scm.plams.core.basejob.Job.prerun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prerun()</span></code></a> method of the “Freq” job.
The <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.prerun" title="scm.plams.core.basejob.Job.prerun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prerun()</span></code></a> method is executed in job’s thread rather than in the main thread.
That means the main thread starts the “Freq” job immediately after starting the “GeomOpt” job and then directly proceeds to <code class="docutils literal notranslate"><span class="pre">do_other_work()</span></code>.
Meanwhile in the thread spawned for the “Freq” job the result request for molecule is made and only that thread waits for “GeomOpt” to finish.</p>
<p>As seen in the above example, it is extremely important to properly configure jobs that are dependent (setup of one depends on results of another).
Resolving all such dependencies in job’s thread rather than in the main thread guarantees that waiting for results is done only by the code that really needs them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In some cases dependencies between job are not easily expressed via methods of <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> (for example, one job sets up some environment that is later used by another job).
In such cases one can use job’s <code class="docutils literal notranslate"><span class="pre">depend</span></code> attribute to explicitly tell the job about other jobs it has to wait for.
Adding <code class="docutils literal notranslate"><span class="pre">job2</span></code> to <code class="docutils literal notranslate"><span class="pre">job1.depend</span></code> is roughly equivalent to putting <code class="docutils literal notranslate"><span class="pre">job2.results.wait()</span></code> in <code class="docutils literal notranslate"><span class="pre">job1</span></code> <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.prerun" title="scm.plams.core.basejob.Job.prerun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prerun()</span></code></a>.</p>
</div>
<p>To sum up all the above considerations, here is the rule of thumb on how to write properly working parallel PLAMS scripts:</p>
<ol class="arabic simple">
<li>Request results as late as possible, preferably just before using them.</li>
<li>If possible, avoid requesting results in the main thread.</li>
<li>Place the result request in the thread in which that data is later used.</li>
</ol>
</div>
</div>
<div class="section" id="cleaning-job-folder">
<span id="cleaning"></span><h2>Cleaning job folder<a class="headerlink" href="#cleaning-job-folder" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance associated with a job is responsible for cleaning the job folder (removing files that are no longer needed).
Cleaning is done automatically, twice for each job.</p>
<p>First cleaning is done during <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.run" title="scm.plams.core.basejob.Job.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>, just after <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.check" title="scm.plams.core.basejob.Job.check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check()</span></code></a> and before <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.postrun" title="scm.plams.core.basejob.Job.postrun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">postrun()</span></code></a>.
The value adjusting this first cleaning is taken from <code class="docutils literal notranslate"><span class="pre">myjob.settings.keep</span></code> and should be either a string or a list (see below).</p>
<p>This cleaning is intended for situations when your jobs produce large files that you don’t need for further processing.
Running many of such jobs could deplete the disk space and cause the whole script to crash.
If you wish to immediately get rid of some files produced by your jobs (without having a chance to do anything with them), use the first cleaning.</p>
<p>In the majority of cases it is sufficient to use the second cleaning, which is performed at the end of your script, when <a class="reference internal" href="functions.html#scm.plams.core.functions.finish" title="scm.plams.core.functions.finish"><code class="xref py py-func docutils literal notranslate"><span class="pre">finish()</span></code></a> method is called.
It is adjusted by <code class="docutils literal notranslate"><span class="pre">myjob.settings.save</span></code>.
You can use the second cleaning to remove files that you no longer need after you extracted relevant data earlier in your script.</p>
<p>The argument passed to <a class="reference internal" href="#scm.plams.core.results.Results._clean" title="scm.plams.core.results.Results._clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_clean()</span></code></a> (in other words the value that is supposed to be kept in <code class="docutils literal notranslate"><span class="pre">myjob.settings.keep</span></code> and <code class="docutils literal notranslate"><span class="pre">myjob.settings.save</span></code>) can be one of the following:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">'all'</span></code> – nothing is removed, cleaning is skipped.</li>
<li><code class="docutils literal notranslate"><span class="pre">'none'</span></code> or <code class="docutils literal notranslate"><span class="pre">[]</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> – everything is removed from the job folder.</li>
<li>list of strings – list of filenames to be kept.
Shortcut <code class="docutils literal notranslate"><span class="pre">$JN</span></code> can be used here, as well as *-wildcards.
For example <code class="docutils literal notranslate"><span class="pre">['geo.*',</span> <span class="pre">'$JN.out',</span> <span class="pre">'logfile']</span></code> will keep <code class="docutils literal notranslate"><span class="pre">[jobname].out</span></code>, <code class="docutils literal notranslate"><span class="pre">logfile</span></code> and all files whose names start with <code class="docutils literal notranslate"><span class="pre">geo.</span></code> and remove everything else from the job folder.</li>
<li>list of strings with the first element <code class="docutils literal notranslate"><span class="pre">'-'</span></code> – reversed behavior to the above, listed files will be removed.
For example <code class="docutils literal notranslate"><span class="pre">['-',</span> <span class="pre">'t21.*',</span> <span class="pre">'$JN.err']</span></code> will remove <code class="docutils literal notranslate"><span class="pre">[jobname].err</span></code> and all files whose names start with <code class="docutils literal notranslate"><span class="pre">t21.</span></code></li>
</ul>
<div class="section" id="cleaning-for-multijobs">
<h3>Cleaning for multijobs<a class="headerlink" href="#cleaning-for-multijobs" title="Permalink to this headline">¶</a></h3>
<p>Cleaning happens for every job run with PLAMS, either single job or multijob.
That means, for example, that a single job that is a child of some multijob will have its job folder cleaned by two different <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instances: it’s own <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> and its parent’s <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a>.
Those two cleanings can interfere with each other.
Hence it is a good practice to set cleaning only on one level (either in a parent job or in children jobs) and disable cleaning on the other level, by using <code class="docutils literal notranslate"><span class="pre">'all'</span></code>.</p>
<p>Another shortcut can be used for cleaning in multijobs: <code class="docutils literal notranslate"><span class="pre">$CH</span></code> is expanded with every possible child name.
For example, if you have a multijob <code class="docutils literal notranslate"><span class="pre">mj</span></code> with 5 single job children (<code class="docutils literal notranslate"><span class="pre">child1</span></code>, <code class="docutils literal notranslate"><span class="pre">child2</span></code> and so on) and you wish to keep only input and output files of children jobs you can set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mj</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">save</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$CH/$CH.in&#39;</span><span class="p">,</span> <span class="s1">&#39;$CH/$CH.out&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>It is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mj</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">save</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;child1/child1.in&#39;</span><span class="p">,</span> <span class="s1">&#39;child2/child2.in&#39;</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="s1">&#39;child1/child1.out&#39;</span><span class="p">,</span> <span class="s1">&#39;child2/child2.out&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>As you can see above, while cleaning a multijob folder you have to keep in mind that files in subfolders are kept as relative paths.</p>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="scm.plams.core.results.Results">
<em class="property">class </em><code class="descname">Results</code><span class="sig-paren">(</span><em>job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results" title="Permalink to this definition">¶</a></dt>
<dd><p>General concrete class for job results.</p>
<p><code class="docutils literal notranslate"><span class="pre">job</span></code> attribute stores a reference to associated job. <code class="docutils literal notranslate"><span class="pre">files</span></code> attribute is a list with contents of the job folder. <code class="docutils literal notranslate"><span class="pre">_rename_map</span></code> is a class attribute with the dictionary storing the default renaming scheme.</p>
<p>Bracket notation (<code class="docutils literal notranslate"><span class="pre">myresults[filename]</span></code>) can be used to obtain full absolute paths to files in the job folder.</p>
<p>Instance methods are automatically wrapped with the “access guardian” that ensures thread safety (see <a class="reference internal" href="#parallel"><span class="std std-ref">Synchronization of parallel job executions</span></a>).</p>
<dl class="method">
<dt id="scm.plams.core.results.Results.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>job</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.refresh">
<code class="descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh the contents of the <code class="docutils literal notranslate"><span class="pre">files</span></code> list. Traverse the job folder (and all its subfolders) and collect relative paths to all files found there, except files with <code class="docutils literal notranslate"><span class="pre">.dill</span></code> extension.</p>
<p>This is a cheap and fast method that should be used every time there is a risk the contents of the job folder changed and <code class="docutils literal notranslate"><span class="pre">files</span></code> is no longer up-to-date. For proper working of various PLAMS elements it is crucial that <code class="docutils literal notranslate"><span class="pre">files</span></code> always contains up-to-date information about the contents of the job folder.</p>
<p>All functions and methods defined in PLAMS that could change the state of the job folder refresh the <code class="docutils literal notranslate"><span class="pre">files</span></code> list, so there is no need to manually call <a class="reference internal" href="#scm.plams.core.results.Results.refresh" title="scm.plams.core.results.Results.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh()</span></code></a> after, for example, <a class="reference internal" href="#scm.plams.core.results.Results.rename" title="scm.plams.core.results.Results.rename"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename()</span></code></a>. If you are implementing a new method of that kind, please don’t forget about refreshing.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect the files present in the job folder after execution of the job is finished. This method is simply <a class="reference internal" href="#scm.plams.core.results.Results.refresh" title="scm.plams.core.results.Results.refresh"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh()</span></code></a> followed by renaming according to the <code class="docutils literal notranslate"><span class="pre">_rename_map</span></code>.</p>
<p>If you wish to override this function, you have to call the parent version at the beginning.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for associated job to finish.</p>
<div class="admonition important">
<p class="first admonition-title">Technical</p>
<p class="last">This is <strong>not</strong> an abstract method. It does exactly what it should: nothing. All the work is done by <a class="reference internal" href="#scm.plams.core.results._restrict" title="scm.plams.core.results._restrict"><code class="xref py py-func docutils literal notranslate"><span class="pre">_restrict()</span></code></a> decorator that is wrapped around it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.grep_file">
<code class="descname">grep_file</code><span class="sig-paren">(</span><em>filename</em>, <em>pattern=''</em>, <em>options=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.grep_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.grep_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute <code class="docutils literal notranslate"><span class="pre">grep</span></code> on a file given by <em>filename</em> and search for <em>pattern</em>.</p>
<p>Additional <code class="docutils literal notranslate"><span class="pre">grep</span></code> flags can be passed with <em>options</em>, which should be a single string containing all flags, space separated.</p>
<p>Returned value is a list of lines (strings). See <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">grep</span></code> for details.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.grep_output">
<code class="descname">grep_output</code><span class="sig-paren">(</span><em>pattern=''</em>, <em>options=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.grep_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.grep_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <a class="reference internal" href="#scm.plams.core.results.Results.grep_file" title="scm.plams.core.results.Results.grep_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">grep_file()</span></code></a> on the output file.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.awk_file">
<code class="descname">awk_file</code><span class="sig-paren">(</span><em>filename</em>, <em>script=''</em>, <em>progfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.awk_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.awk_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute an AWK script on a file given by <em>filename</em>.</p>
<p>The AWK script can be supplied in two ways: either by directly passing the contents of the script (should be a single string) as the <em>script</em> argument, or by providing the path (absolute or relative to <em>filename</em>) to a text file with an AWK script as the <em>progfile</em> argument. If <em>progfile</em> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <em>script</em> is ignored.</p>
<p>Other keyword arguments (<em>**kwargs</em>) can be used to pass additional variables to AWK (see <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag in AWK manual)</p>
<p>Returned value is a list of lines (strings). See <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">awk</span></code> for details.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.awk_output">
<code class="descname">awk_output</code><span class="sig-paren">(</span><em>script=''</em>, <em>progfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.awk_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.awk_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <a class="reference internal" href="#scm.plams.core.results.Results.awk_file" title="scm.plams.core.results.Results.awk_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">awk_file()</span></code></a> on the output file.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>old</em>, <em>new</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a file from <code class="docutils literal notranslate"><span class="pre">files</span></code>. In both <em>old</em> and <em>new</em> the shortcut <code class="docutils literal notranslate"><span class="pre">$JN</span></code> for job name can be used.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.get_file_chunk">
<code class="descname">get_file_chunk</code><span class="sig-paren">(</span><em>filename</em>, <em>begin=None</em>, <em>end=None</em>, <em>match=0</em>, <em>inc_begin=False</em>, <em>inc_end=False</em>, <em>process=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.get_file_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.get_file_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a chunk of a text file given by <em>filename</em>, consisting of all the lines between a line containing <em>begin</em> and a line containing <em>end</em>.</p>
<p><em>begin</em> and <em>end</em> should be simple strings (no regular expressions allowed) or <code class="docutils literal notranslate"><span class="pre">None</span></code> (in that case matching is done from the beginning or until the end of the file). If multiple blocks delimited by <em>begin</em> end <em>end</em> are present in the file, <em>match</em> can be used to indicate which one should be printed (<em>match*=0 prints all of them). *inc_begin</em> and <em>inc_end</em> can be used to include the delimiting lines in the final result (by default they are excluded).</p>
<p>The returned value is a list of strings. <em>process</em> can be used to provide a function executed on each element of this list before returning it.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.get_output_chunk">
<code class="descname">get_output_chunk</code><span class="sig-paren">(</span><em>begin=None</em>, <em>end=None</em>, <em>match=0</em>, <em>inc_begin=False</em>, <em>inc_end=False</em>, <em>process=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.get_output_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.get_output_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for <a class="reference internal" href="#scm.plams.core.results.Results.get_file_chunk" title="scm.plams.core.results.Results.get_file_chunk"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_file_chunk()</span></code></a> on the output file.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.recreate_molecule">
<code class="descname">recreate_molecule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.recreate_molecule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.recreate_molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate the input molecule for the corresponding job based on files present in the job folder. This method is used by <a class="reference internal" href="jobs.html#scm.plams.core.basejob.SingleJob.load_external" title="scm.plams.core.basejob.SingleJob.load_external"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_external()</span></code></a>.</p>
<p>The definiton here serves as a deafult fall-back template preventing <a class="reference internal" href="jobs.html#scm.plams.core.basejob.SingleJob.load_external" title="scm.plams.core.basejob.SingleJob.load_external"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_external()</span></code></a> from crashing when a particular <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> subclass does not define it’s own <a class="reference internal" href="#scm.plams.core.results.Results.recreate_molecule" title="scm.plams.core.results.Results.recreate_molecule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recreate_molecule()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.recreate_settings">
<code class="descname">recreate_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.recreate_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.recreate_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate the input <a class="reference internal" href="settings.html#scm.plams.core.settings.Settings" title="scm.plams.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> instance for the corresponding job based on files present in the job folder. This method is used by <a class="reference internal" href="jobs.html#scm.plams.core.basejob.SingleJob.load_external" title="scm.plams.core.basejob.SingleJob.load_external"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_external()</span></code></a>.</p>
<p>The definiton here serves as a deafult fall-back template preventing <a class="reference internal" href="jobs.html#scm.plams.core.basejob.SingleJob.load_external" title="scm.plams.core.basejob.SingleJob.load_external"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_external()</span></code></a> from crashing when a particular <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> subclass does not define it’s own <a class="reference internal" href="#scm.plams.core.results.Results.recreate_settings" title="scm.plams.core.results.Results.recreate_settings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recreate_settings()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results._clean">
<code class="descname">_clean</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results._clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results._clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean the job folder. <em>arg</em> should be a string or a list of strings. See <a class="reference internal" href="#cleaning"><span class="std std-ref">Cleaning job folder</span></a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results._copy_to">
<code class="descname">_copy_to</code><span class="sig-paren">(</span><em>newresults</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results._copy_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results._copy_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy these results to <em>newresults</em>.</p>
<p>This method is used when <a class="reference internal" href="jobmanager.html#rerun-prevention"><span class="std std-ref">Rerun prevention</span></a> discovers an attempt to run a job identical to a previously run job. Instead of the execution, results of the previous job are copied/linked to the new one.</p>
<p>This method is called from <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> of the old job and <em>newresults</em> should be <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> of the new job. The goal is to faithfully recreate the state of this <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance in <code class="docutils literal notranslate"><span class="pre">newresults</span></code>. To achieve that, all the contents of the job folder are copied (or hardlinked, if your platform allows that and <code class="docutils literal notranslate"><span class="pre">job.settings.link_files</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>) to other’s job folder. Moreover, all attributes of this <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance (other than <code class="docutils literal notranslate"><span class="pre">job</span></code> and <code class="docutils literal notranslate"><span class="pre">files</span></code>) are exported to <em>newresults</em> using <a class="reference internal" href="#scm.plams.core.results.Results._export_attribute" title="scm.plams.core.results.Results._export_attribute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_export_attribute()</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results._export_attribute">
<code class="descname">_export_attribute</code><span class="sig-paren">(</span><em>attr</em>, <em>other</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results._export_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results._export_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Export this instance’s attribute to <em>other</em>. This method should be overridden in your <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> subclass if it has some attributes that are not properly handled by <a class="reference external" href="https://docs.python.org/3.6/library/copy.html#copy.deepcopy" title="(in Python v3.6)"><code class="docutils literal notranslate"><span class="pre">copy.deepcopy()</span></code></a>.</p>
<p><em>other</em> is the <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance, <em>attr</em> is the <strong>value</strong> of the attribute to be copied. See <a class="reference internal" href="../interfaces/adf.html#scm.plams.interfaces.adfsuite.scmjob.SCMResults._export_attribute" title="scm.plams.interfaces.adfsuite.scmjob.SCMResults._export_attribute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SCMJob._export_attribute</span></code></a> for an example implementation.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="scm.plams.core.results.Results._replace_job_name">
<em class="property">static </em><code class="descname">_replace_job_name</code><span class="sig-paren">(</span><em>string</em>, <em>oldname</em>, <em>newname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results._replace_job_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results._replace_job_name" title="Permalink to this definition">¶</a></dt>
<dd><p>If <em>string</em> starts with <em>oldname</em>, maybe followed by some extension, replace <em>oldname</em> with <em>newname</em>.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Magic method to enable bracket notation. Elements from <code class="docutils literal notranslate"><span class="pre">files</span></code> can be used to get absolute paths.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results.__contains__">
<code class="descname">__contains__</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results.__contains__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>Magic method to enable the Python <code class="docutils literal notranslate"><span class="pre">in</span></code> operator notation for checking if a filename with a particular name is present.</p>
</dd></dl>

<dl class="method">
<dt id="scm.plams.core.results.Results._process_file">
<code class="descname">_process_file</code><span class="sig-paren">(</span><em>filename</em>, <em>command</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#Results._process_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results.Results._process_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Skeleton for all file processing methods. Execute <em>command</em> (should be a list of strings) on <em>filename</em> and return output as a list of lines.</p>
</dd></dl>

</dd></dl>

<div class="admonition important">
<p class="first admonition-title">Technical</p>
<p>Other parts of <code class="docutils literal notranslate"><span class="pre">results</span></code> module described below are responsible for giving <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> class its unique behavior described in <a class="reference internal" href="#parallel"><span class="std std-ref">Synchronization of parallel job executions</span></a>.
They are presented here for the sake of completeness, from a user’s perspective this information is not too relevant.</p>
<dl class="class">
<dt id="scm.plams.core.results._MetaResults">
<em class="property">class </em><code class="descname">_MetaResults</code><a class="reference internal" href="../_modules/scm/plams/core/results.html#_MetaResults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results._MetaResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Metaclass for <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a>. During new <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instance creation it wraps all methods with <a class="reference internal" href="#scm.plams.core.results._restrict" title="scm.plams.core.results._restrict"><code class="xref py py-func docutils literal notranslate"><span class="pre">_restrict()</span></code></a> decorator ensuring proper synchronization and thread safety. Methods listed in <code class="docutils literal notranslate"><span class="pre">_dont_restrict</span></code> as well as “magic methods” are not wrapped.</p>
<dl class="staticmethod">
<dt id="scm.plams.core.results._MetaResults.__new__">
<em class="property">static </em><code class="descname">__new__</code><span class="sig-paren">(</span><em>meta</em>, <em>name</em>, <em>bases</em>, <em>dct</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#_MetaResults.__new__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results._MetaResults.__new__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a new object.  See help(type) for accurate signature.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="scm.plams.core.results._restrict">
<code class="descname">_restrict</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#_restrict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results._restrict" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that wraps methods of <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> instances.</p>
<p>Whenever decorated method is called, the status of associated job is checked. Depending of its value access to the method is granted, refused or the calling thread is forced to wait for the right <a class="reference external" href="https://docs.python.org/3.6/library/threading.html#event-objects" title="(in Python v3.6)"><span class="xref std std-ref">event</span></a> to be set.</p>
</dd></dl>

<dl class="function">
<dt id="scm.plams.core.results._caller_name_and_arg">
<code class="descname">_caller_name_and_arg</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#_caller_name_and_arg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results._caller_name_and_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract information about name and arguments of a function call from a <em>frame</em> object</p>
</dd></dl>

<dl class="last function">
<dt id="scm.plams.core.results._privileged_access">
<code class="descname">_privileged_access</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scm/plams/core/results.html#_privileged_access"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scm.plams.core.results._privileged_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze contents of the current stack to find out if privileged access to the <a class="reference internal" href="#scm.plams.core.results.Results" title="scm.plams.core.results.Results"><code class="xref py py-class docutils literal notranslate"><span class="pre">Results</span></code></a> methods should be granted.</p>
<p>Privileged access is granted to two <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job" title="scm.plams.core.basejob.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a> methods: <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.postrun" title="scm.plams.core.basejob.Job.postrun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">postrun()</span></code></a> and <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job.check" title="scm.plams.core.basejob.Job.check"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check()</span></code></a>, but only if they are called from <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job._finalize" title="scm.plams.core.basejob.Job._finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_finalize()</span></code></a> of the same <a class="reference internal" href="jobs.html#scm.plams.core.basejob.Job" title="scm.plams.core.basejob.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a> instance.</p>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <!--STARTNOSOLR-->
<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="runners.html" class="btn btn-neutral float-right" title="Job runners" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="jobs.html" class="btn btn-neutral" title="Jobs" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/> 

<!-- start :: footer -->
		<footer class="site-footer block">
			<div class="container">
				<div class="row">
					<div class="footer-column" >
	<ul>
		<li id="nav_menu-2" class="widget widget_nav_menu "><h3>Application Areas</h3><div class="menu-application-areas-container"><ul id="menu-application-areas" class="menu">
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/batteries/">Batteries &#038; PVs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/chemical-bonding-analysis/">Bonding Analysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/catalysis/">Catalysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/heavy-elements/">Heavy Elements</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/inorganic-chemistry/">Inorganic Chemistry</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/pharma/">Life Sciences</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/materials-science/">Materials Science</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/nanotechnology/">Nanotechnology</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/oil-and-gas/">Oil and Gas</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/organic-electronics/">Organic Electronics</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/polymers/">Polymers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/spectroscopy/">Spectroscopy</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/teaching/">Teaching</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-7" class="widget widget_nav_menu "><h3>Products</h3><div class="menu-product-navigation-container"><ul id="menu-product-navigation" class="menu">
<li id="menu-item-40263" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40263"><a href="https://www.scm.com/product/ams/">AMS Driver</a></li>
<li id="menu-item-7235" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7235"><a href="https://www.scm.com/product/adf/">ADF</a></li>
<li id="menu-item-7236" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7236"><a href="https://www.scm.com/product/band_periodicdft/">BAND</a></li>
<li id="menu-item-7237" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7237"><a href="https://www.scm.com/product/cosmo-rs/">COSMO-RS</a></li>
<li id="menu-item-7238" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7238"><a href="https://www.scm.com/product/dftb/">DFTB</a></li>
<li id="menu-item-7239" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7239"><a href="https://www.scm.com/product/gui/">GUI</a></li>
<li id="menu-item-44383" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-44383"><a href="https://www.scm.com/product/machine-learning-potentials/">MLPotential</a></li>
<li id="menu-item-7240" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7240"><a href="https://www.scm.com/product/mopac/">MOPAC</a></li>
<li id="menu-item-40262" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40262"><a href="https://www.scm.com/product/plams/">PLAMS</a></li>
<li id="menu-item-43701" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-43701"><a href="https://www.scm.com/product/quantum-espresso/">Quantum ESPRESSO</a></li>
<li id="menu-item-7241" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7241"><a href="https://www.scm.com/product/reaxff/">ReaxFF</a></li></ul></div></li><li id="nav_menu-26" class="widget widget_nav_menu "><div class="menu-licensing-container"><ul id="menu-licensing" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/">Pricing &#038; Licensing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/">Price Quote</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/calculate-your-price/">Price Calculator</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/consulting/">Scientific Consulting</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/adf-resellers/">Resellers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/scm-license-terms/">License Terms</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/ordering-procedure/">Ordering</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-6" class="widget widget_nav_menu "><h3>Support</h3><div class="menu-support-navigation-container"><ul id="menu-support-navigation" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/">Support Overview</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-installation-videos/">Installation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-tutorials-and-manuals/">Documentation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/doc/Tutorials/GUI_overview/GUI_overview_tutorials.html">GUI Tutorials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/downloads/">Downloads</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/faq/">FAQs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/adf-discussion-list/">Discussion List</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/documentation-previous-versions/release-notes/">Release Notes</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/adf-teaching-materials/">Teaching Materials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/adf-hands-on-workshops/">Workshops</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/web-presentations-by-adf-experts/">Webinars</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/videos-tutorials-and-web-presentations/">Videos</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/brochures/">Brochure</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/amsterdam-modeling-suite/research-papers-citing-adf/">Papers Citing ADF</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/highlights/">Literature Highlights</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-28" class="widget widget_nav_menu "><h3>About Us</h3><div class="menu-about-us-container"><ul id="menu-about-us" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/contact-us/">Contact Us</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/eu-projects/">EU Projects</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-authors/">Contributors</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-people/">The SCM Team</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/collaborations/">Collaborations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/careers/">Careers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/mission-vision/">Mission &#038; Vision</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/newsletters/">Newsletters</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/news/">News</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/">Events</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
			</ul>
</div>				</div>
			</div>
		</footer>
		<footer class="disclaimer-footer">
			<img src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="">
			<nav class="menu-service-navigation-container"><ul id="menu-service-navigation" class="menu-service navbar-nav"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-73"><a href="https://www.scm.com/copyright/">Copyright</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-72"><a href="https://www.scm.com/terms-of-use/">Terms of Use</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-71"><a href="https://www.scm.com/privacy-policy/">Privacy Policy</a></li>
</ul></nav></footer>	
		<!-- end :: footer -->

<!--ENDNOSOLR-->
        </div>
      </div>

    </section>
  </div>
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2021.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCRWHZZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/../../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>