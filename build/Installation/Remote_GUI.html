

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
<META name="ROBOTS" content="NOINDEX, NOFOLLOW">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the GUI on a remote machine &mdash; Installation 2021.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/css/theme_tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/panels-bootstrap.min.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Installation 2021.1 documentation" href="index.html"/>
        <link rel="next" title="Appendix A. Environment Variables" href="Appendix_A_Environment_Variables.html"/>
        <link rel="prev" title="Additional Information and Known Issues" href="Additional_Information_and_Known_Issues.html"/> 

  
  <script src="_static/js/jquery.min.js"></script>
  <script src="_static/js/bootstrap.min.js"></script>
  <script src="_static/js/modernizr.min.js"></script>
  <script src="_static/js/app.js"></script>
<script type="text/javascript">
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NCRWHZZ');</script>
<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav" role="document">
  <!--STARTNOSOLR-->
  <header class="site-header navbar-fixed-top compact">
      <nav class="main navbar navbar-default">
        <div class="headerbar_container">
          <a role="button" href="/free-trial/" class="btn btn-sm btn-primary">Free trial</a>
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="navbar-brand">
              <a class="logo" href="https://www.scm.com">
                <img class="logo-small" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="Software for Chemistry &amp; Materials" />
                <img class="logo-full" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo.svg" alt="Software for Chemistry &amp; Materials" />
              </a>
            </div>
          </div>
          <div class="nav-wrapper">
            <div class="collapse navbar-collapse">
              <ul id="menu-primary-navigation" class="nav navbar-nav"><li id="menu-item-40077" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-40077"><a title="Applications" href="https://www.scm.com/applications/">Applications</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a title="Products" href="https://www.scm.com/amsterdam-modeling-suite/">Products</a></li>
<li id="menu-item-36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-36"><a title="Support" href="https://www.scm.com/support/">Support</a></li>
<li id="menu-item-37" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-37"><a title="About us" href="https://www.scm.com/about-us/">About us</a></li>
</ul>                           <span class="search"><a class="menu_search_link" href="https://www.scm.com/search.php"></a><span class="sr-only">Search</span></span>
            </div>
          </div>
        </div>
      </nav>
 </header>
    

   
  <div id="doc-wrapper">
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          

          
          </a>

          
          
  <ul>
      <li class="wy-breadcrumbs-aside">
        
           
           
        
      </li>
  </ul>
 
<!--ENDNOSOLR-->
             <!--STARTNOSOLR-->
<div role="search">
  <form id="rtd-search-form" class="wy-form search-docs-form" action="https://www.scm.com/search.php" method="get">
  <div class="input-group">
    <input type="text" name="search" placeholder="Search Installation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <input type="hidden" name="root" value="doctrunk" />


    <input type="hidden" name="cat" value="doc-Installation" />


    <span class="input-group-btn">
			<button type="submit" class="btn btn-primary"><span class="sr-only">Search</span><span class="fa fa-search"></span></button>
		</span>
	</div>
  </form>
</div>
<!--ENDNOSOLR-->
          

          
        </div>
<!--STARTNOSOLR-->
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Windows_Quickstart_Guide.html">Windows Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Linux_Quickstart_Guide.html">Linux Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacOS_Quickstart_Guide.html">MacOS Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#requirements">Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#detailed-hardware-requirements">Detailed Hardware requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="Introduction.html#software-requirements">Software requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#important-changes-since-ams2021">Important changes since AMS2021</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#important-changes-since-ams2020">Important changes since AMS2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#important-changes-since-ams2018">Important changes since AMS2018</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html#important-changes-since-adf2017">Important changes since ADF2017</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#decide-which-version-to-install">Decide which version to install</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#download-and-install-the-software">Download and install the software</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#set-up-the-environment">Set up the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#set-up-the-license">Set up the license</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#floating-license">Floating license</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#set-up-the-scratch-space">Set up the scratch space</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#test-your-installation">Test your installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#check-the-license-file">Check the license file</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#run-some-basic-tests">Run some basic tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#test-the-gui">Test the GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#test-parallel-execution">Test parallel execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#test-parallel-performance">Test parallel performance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Installation.html#configure-amsjobs-queues-and-3rd-party-software-optional">Configure AMSjobs queues and 3rd party software (optional)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#amsjobs-queues">AMSjobs queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="Installation.html#managing-remote-jobs">Managing remote jobs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Optional_Components.html">Installing Optional Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#introducing-amspackages">Introducing AMSpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#managing-packages-from-the-command-line">Managing packages from the command line</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#finding-available-packages">Finding available packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#installing-a-package">Installing a package</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#check-if-a-package-is-installed">Check if a package is installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#removing-a-package">Removing a package</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#updating-a-package">Updating a package</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#reinstalling-packages-from-a-previous-version-of-ams">Reinstalling packages from a previous version of AMS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#using-the-package-manager-offline">Using the package manager offline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#macos-and-linux">MacOS and Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Optional_Components.html#method-1-wget">Method 1: wget</a></li>
<li class="toctree-l4"><a class="reference internal" href="Optional_Components.html#method-2-python">Method 2: python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#using-the-downloaded-copy">Using the downloaded copy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#instructions-for-administrators">Instructions for administrators</a></li>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#persistent-configurations">Persistent configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Optional_Components.html#f-a-q-troubleshooting">F.A.Q. &amp; Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#where-are-packages-are-installed">Where are packages are installed ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#the-package-manager-exits-saying-unhandled-exception">The package manager exits saying “Unhandled exception…”</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#i-want-to-use-my-own-version-of-package-x">I want to use my own version of package ‘X’</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Optional_Components.html#cosmo-rs-database-2018">COSMO-RS Database 2018</a></li>
<li class="toctree-l4"><a class="reference internal" href="Optional_Components.html#quantumespresso">QuantumESPRESSO</a></li>
<li class="toctree-l4"><a class="reference internal" href="Optional_Components.html#machine-learning-potentials">Machine Learning potentials</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#i-am-having-trouble-downloading-packages">I am having trouble downloading packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="Optional_Components.html#my-problem-isn-t-listed-here">My problem isn’t listed here</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Additional_Information_and_Known_Issues.html">Additional Information and Known Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#windows-subsystem-for-linux-wsl-and-docker">Windows Subsystem for Linux (WSL) and Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#shared-memory-and-batch-systems-slurm">Shared memory and batch systems (SLURM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#gpfs-file-system">GPFS file system</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#running-mpi-jobs">Running MPI jobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#technical-explanation">Technical explanation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#more-on-running-mpi-jobs">More on running MPI jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#intelmpi-and-core-binding">IntelMPI and core-binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#intelmpi-and-slurm">IntelMPI and SLURM</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#intelmpi-and-sge">IntelMPI and SGE</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#intelmpi-and-abi-compatibility">IntelMPI and ABI compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#multi-node-issues">Multi-node issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#openmpi-on-linux">OpenMPI on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#corrupted-license-file">Corrupted License File</a></li>
<li class="toctree-l2"><a class="reference internal" href="Additional_Information_and_Known_Issues.html#windows-running-jobs-from-the-command-line">Windows: running jobs from the command line</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the GUI on a remote machine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#x11-over-ssh">X11 over SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x11-with-opengl-over-ssh-3d-graphics">X11 with OpenGL over SSH (3D graphics)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#intel-graphics-mesa">Intel Graphics (mesa)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nvidia-graphics">NVidia Graphics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#libgl-so-examples">libGL.so examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#amd-graphics">AMD Graphics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">libGL.so examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#opengl-direct-or-indirect-rendering">OpenGL direct or indirect rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enabling-indirect-rendering-on-xorg-1-17-and-newer">enabling indirect rendering on Xorg 1.17 and newer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#centos-6">CentOS 6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-16-04">Ubuntu 16.04</a></li>
<li class="toctree-l4"><a class="reference internal" href="#osx-macos">OSX / MacOS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#opengl2-with-x11-over-ssh">OpenGL2+ with X11 over SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adf2017-and-vtk7">ADF2017 and VTK7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ams2019-ams2018-and-vtk7">AMS2019/AMS2018 and VTK7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ams2020-ams2021-and-vtk7">AMS2020/AMS2021 and VTK7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sources">Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_A_Environment_Variables.html">Appendix A. Environment Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Appendix_A_Environment_Variables.html#more-on-the-scm-tmpdir-variable">More on the SCM_TMPDIR variable</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html">Appendix B. Directory Structure of the AMS Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-bin-directory">The bin directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-atomicdata-directory">The atomicdata directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-data-directory">The data directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-examples-directory">The examples directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-src-directory">The src directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-utils-directory">The Utils directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-doc-directory">The Doc directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_B_Directory_Structure_of_the_ADF_Package.html#the-scripting-directory">The scripting directory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html">Appendix C. Debugging MPI Problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#technical-introduction-into-ams">Technical introduction into AMS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#execution-order">Execution order</a></li>
<li class="toctree-l3"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#the-amsbin-start-script">The $AMSBIN/start script</a></li>
<li class="toctree-l3"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#the-amsbin-setenv-sh-script">The $AMSBIN/setenv.sh script</a></li>
<li class="toctree-l3"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#mpi-runtimes">MPI runtimes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Appendix_C_Debugging_MPI_problems.html#debugging-mpi-issues">Debugging MPI issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Compiling_ADF_from_Sources.html">Compiling AMS from Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Compiling_ADF_from_Sources.html#unpacking-the-distribution">Unpacking the distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Compiling_ADF_from_Sources.html#setting-up-environment">Setting up environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="Compiling_ADF_from_Sources.html#running-install-configure">Running Install/configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="Compiling_ADF_from_Sources.html#compiling-ams">Compiling AMS</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Installation</a>
      </nav>
<!--ENDNOSOLR-->

      
      <div class="wy-nav-content">
        <div class="rst-content">
        <!--STARTNOSOLR-->
<div class="header" role="navigation" aria-label="breadcrumbs navigation">
 
  <ul class="wy-breadcrumbs">
    <li><a href="Installation.html/../../Documentation/index.html">Documentation</a>/</li>
    <li><a href="index.html">Installation</a>/</li>
      
    <li class="orange-text">Using the GUI on a remote machine</li>
  </ul>
  <p>
 
</div>
<!--ENDNOSOLR-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-the-gui-on-a-remote-machine">
<h1>Using the GUI on a remote machine<a class="headerlink" href="#using-the-gui-on-a-remote-machine" title="Permalink to this headline">¶</a></h1>
<p>Running the ADF GUI (amsinput) on a remote machine (X forwarding over SSH) can be tricky sometimes. This page will try to explain why and might contain some hints into how to get a remote GUI working. If your remote GUI worked fine with ADF2016 but stopped working with ADF2017, you can probably skip most of this page and read the last section about <a class="reference internal" href="#adf2017-and-vtk7">ADF2017 and VTK7</a>.</p>
<div class="section" id="x11-over-ssh">
<h2>X11 over SSH<a class="headerlink" href="#x11-over-ssh" title="Permalink to this headline">¶</a></h2>
<p>When connecting to a remote system (let’s call it RemoteBox) from your local machine (LocalBox) over SSH, there is the option to enable X forwarding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="o">-</span><span class="n">X</span> <span class="o">-</span><span class="n">Y</span> <span class="n">user</span><span class="nd">@RemoteBox</span>
</pre></div>
</div>
<p>This allows you to run X11 GUI programs on RemoteBox while the window shows on LocalBox. You can try some simple X11 programs now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xterm</span>
<span class="n">xclock</span>
</pre></div>
</div>
<p>If you got a terminal and a clock popping up in separate windows, you have working X11 forwarding over SSH.</p>
<p>If you got any errors and no window, most likely something fundamental is broken. Check if the RemoteBox allows X11 Forwarding (/etc/ssh/sshd_config should contain “X11Forwarding yes”), and try both the -X and -Y flag on the ssh command. Another thing to check is “xhost”, which might also get in the way.</p>
<p><strong>sidenote on ssh -X and -Y:</strong> There are two ways of enabling X forwarding with SSH, -X and -Y. The default -X flag enables X11 forwarding, but with extended security restrictions to protect LocalBox from malicious behavior of people on the RemoteBox. The -Y flag enables trusted X11 forwarding, which does not enable the additional security extensions. The security extensions are there for good reason, but they can break so many things that some distros (Debian for example) disable them by default, even if you use -X and not -Y. Which mode you decide to use is up to you of course, but if something doesn’t work always try using -X -Y (or -XY) before asking for help.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">If you did not succeed in getting an xterm or xclock window to show, then you MUST solve that problem before trying to use 3D graphics. The rest of this text assumes you have a working X11 setup.</p>
</div>
</div>
<div class="section" id="x11-with-opengl-over-ssh-3d-graphics">
<h2>X11 with OpenGL over SSH (3D graphics)<a class="headerlink" href="#x11-with-opengl-over-ssh-3d-graphics" title="Permalink to this headline">¶</a></h2>
<p>X11 over SSH can also support OpenGL 3D graphics, using the GLX extensions. To test this run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">glxgears</span>
</pre></div>
</div>
<p>It should pop up a window with 3 gears, which may or may not be spinning. To get more info about the 3D driver stack, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">glxinfo</span> <span class="o">|</span>  <span class="n">grep</span> <span class="o">-</span><span class="n">E</span> <span class="s2">&quot; version| string| rendering|display&quot;</span>
</pre></div>
</div>
<p>If the above two commands produce errors (For example: <code class="docutils literal notranslate"><span class="pre">Error:</span> <span class="pre">couldn't</span> <span class="pre">find</span> <span class="pre">RGB</span> <span class="pre">GLX</span> <span class="pre">visual</span> <span class="pre">or</span> <span class="pre">fbconfig</span></code> or <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">Error</span> <span class="pre">of</span> <span class="pre">failed</span> <span class="pre">request:</span></code>) something fundamental is broken with the 3D setup on RemoteBox or LocalBox. You should check the 3D driver stack on <strong>both</strong> machines, and pay special attention to the libGL.so and libGLX*.so libraries. Make sure you can run <code class="docutils literal notranslate"><span class="pre">glxgears</span></code> and <code class="docutils literal notranslate"><span class="pre">glxinfo</span></code> on LocalBox before investigating the remote machine.</p>
<div class="section" id="intel-graphics-mesa">
<h3>Intel Graphics (mesa)<a class="headerlink" href="#intel-graphics-mesa" title="Permalink to this headline">¶</a></h3>
<p>If LocalBox has intel graphics, you might run into problems if RemoteBox uses proprietary hardware &amp; drivers.
First check which libGL.so is used on RemoteBox by logging in via SSH and running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ldd `which glxinfo`
</pre></div>
</div>
<p>The output will contain a line similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="mh">0x00007f76cdcaf000</span><span class="p">)</span>
</pre></div>
</div>
<p>/usr/lib/x86_64-linux-gnu/libGL.so.1 is most likely a symlink, so use <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code> to find its true destination:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
</pre></div>
</div>
<p>if this points to a proprietary graphics library (for example: <code class="docutils literal notranslate"><span class="pre">lrwxrwxrwx</span> <span class="pre">1</span> <span class="pre">root</span> <span class="pre">root</span> <span class="pre">30</span> <span class="pre">aug</span> <span class="pre">22</span> <span class="pre">13:24</span> <span class="pre">/usr/lib/x86_64-linux-gnu/libGL.so.1</span> <span class="pre">-&gt;</span> <span class="pre">/usr/lib/nvidia-361/libGL.so.1</span></code>), you can try pre-loading the mesa version of the library on the remote machine. Try to locate the mesa libGL.so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">/</span><span class="n">usr</span> <span class="o">-</span><span class="n">iname</span> <span class="s2">&quot;*libGL.so*&quot;</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</pre></div>
</div>
<p>If we are lucky we spot the mesa libGL.so in the output. It may look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p>If you found the mesa libGL.so, try to put it in LD_PRELOAD:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LD_PRELOAD</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span>
<span class="n">glxinfo</span>
</pre></div>
</div>
<p>If the system was already using the mesa libGL.so, you can try to use indirect rendering by setting the following environment variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LIBGL_ALWAYS_INDIRECT</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>Other useful environment variables can be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LIBGL_DEBUG</span><span class="o">=</span><span class="n">verbose</span>
<span class="n">export</span> <span class="n">LIBGL_ALWAYS_SOFTWARE</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="nvidia-graphics">
<h3>NVidia Graphics<a class="headerlink" href="#nvidia-graphics" title="Permalink to this headline">¶</a></h3>
<p>There are probably two libGL implementations on LocalBox if it uses the NVidia proprietary drivers (or 4 if you also have 32bit libraries installed): the opensource “mesa” library (<code class="docutils literal notranslate"><span class="pre">libGL.so.1.2.0</span></code>, most likely in a “mesa” subdirectory) and the proprietary NVidia library that comes with the NVidia drivers. Run the following command to find the libGL libraries on your system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">/</span><span class="n">usr</span> <span class="o">-</span><span class="n">iname</span> <span class="s2">&quot;*libGL.so*&quot;</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</pre></div>
</div>
<p>Make sure that the <code class="docutils literal notranslate"><span class="pre">libGL.so</span></code> and <code class="docutils literal notranslate"><span class="pre">libGL.so.1</span></code> symlinks in the generic folders (/usr/lib/, /usr/lib64, /usr/lib/x86_64_linux_gnu) eventually point towards the proprietary library. You will need to have root permissions to change the symlinks.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Never run any commands as root (or with sudo) to change your system setup if you do not understand them. It is not hard to break a Linux installation when making mistakes as root, so make backups before you change something and double-check what you type when using sudo or the root account!</p>
</div>
<p>Another important library when running OpenGL over SSH with NVidia hardware is <code class="docutils literal notranslate"><span class="pre">libGLX.so</span></code>. Locate it on your system with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">/</span><span class="n">usr</span> <span class="o">-</span><span class="n">iname</span> <span class="s2">&quot;*libGLX*.so*&quot;</span> <span class="o">-</span><span class="n">exec</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span> <span class="p">{}</span> \<span class="p">;</span>
</pre></div>
</div>
<p>Make sure that there are symlinks to the proprietary library in a generic location (/usr/lib on ubuntu).</p>
<p>You can check if the correct <code class="docutils literal notranslate"><span class="pre">libGL.so</span></code> is being used by checking the dynamic library dependencies of glxinfo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ldd `which glxinfo`
</pre></div>
</div>
<p>The reported <code class="docutils literal notranslate"><span class="pre">libGL.so</span></code> dependency is most likely a symlink, so use <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code> on it to find out where it points to.</p>
<div class="section" id="libgl-so-examples">
<h4>libGL.so examples<a class="headerlink" href="#libgl-so-examples" title="Permalink to this headline">¶</a></h4>
<p>A correct setup on CentOS 6 with NVidia drivers for example should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># first 3 lines are the NVidia lib</span>
<span class="c1"># second set of 3 lines are the mesa lib</span>
<span class="c1"># last two lines are the generic symlinks that point towards the NVidia lib</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1220472</span> <span class="n">apr</span>  <span class="mi">6</span> <span class="mi">02</span><span class="p">:</span><span class="mi">51</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">nvidia</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">352.93</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">15</span> <span class="n">aug</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">33</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">nvidia</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">352.93</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">15</span> <span class="n">aug</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">33</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">nvidia</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">352.93</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">561640</span> <span class="n">mei</span> <span class="mi">11</span> <span class="mi">06</span><span class="p">:</span><span class="mi">38</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">jun</span>  <span class="mi">6</span> <span class="mi">13</span><span class="p">:</span><span class="mi">40</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">jun</span>  <span class="mi">6</span> <span class="mi">13</span><span class="p">:</span><span class="mi">40</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">15</span> <span class="n">aug</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">48</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">nvidia</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">17</span> <span class="n">aug</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">48</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">nvidia</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
</pre></div>
</div>
<p>Another example of an 64bit ubuntu installation with NVidia drivers and 32bit libraries available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">439972</span> <span class="n">jul</span> <span class="mi">18</span> <span class="mi">05</span><span class="p">:</span><span class="mi">47</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib32</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span> <span class="c1"># 32bit nvidia lib</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">aug</span>  <span class="mi">3</span> <span class="mi">06</span><span class="p">:</span><span class="mi">14</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib32</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">aug</span>  <span class="mi">3</span> <span class="mi">06</span><span class="p">:</span><span class="mi">14</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib32</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">jun</span> <span class="mi">13</span>  <span class="mi">2013</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib32</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="c1">#generic 32bit symlink, points to the next line</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">21</span> <span class="n">aug</span> <span class="mi">22</span> <span class="mi">13</span><span class="p">:</span><span class="mi">23</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib32</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="c1"># generic 32bit symlink, points to nvidia</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">448200</span> <span class="n">jul</span> <span class="mi">22</span> <span class="mi">09</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">i386</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span> <span class="c1"># 32bit mesa lib</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">jul</span> <span class="mi">22</span> <span class="mi">09</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">i386</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">579760</span> <span class="n">jul</span> <span class="mi">18</span> <span class="mi">05</span><span class="p">:</span><span class="mi">50</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span> <span class="c1"># 64bit nvidia lib</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">aug</span>  <span class="mi">3</span> <span class="mi">06</span><span class="p">:</span><span class="mi">14</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">aug</span>  <span class="mi">3</span> <span class="mi">06</span><span class="p">:</span><span class="mi">14</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">459392</span> <span class="n">jul</span> <span class="mi">22</span> <span class="mi">09</span><span class="p">:</span><span class="mi">52</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span> <span class="c1"># 64 bit mesa lib</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">jul</span> <span class="mi">22</span> <span class="mi">09</span><span class="p">:</span><span class="mi">52</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">14</span> <span class="n">jul</span> <span class="mi">22</span> <span class="mi">09</span><span class="p">:</span><span class="mi">52</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">mesa</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">aug</span> <span class="mi">22</span> <span class="mi">13</span><span class="p">:</span><span class="mi">25</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="c1"># generic 64bit symlink, points to next line</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">30</span> <span class="n">aug</span> <span class="mi">22</span> <span class="mi">13</span><span class="p">:</span><span class="mi">24</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="mi">361</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="c1"># generic 64bit symlink, points to nvidia</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="amd-graphics">
<h3>AMD Graphics<a class="headerlink" href="#amd-graphics" title="Permalink to this headline">¶</a></h3>
<p>AMD GPUs are reasonably well supported by the latest versions of mesa (ubuntu 16.04), and installing the proprietary Catalyst driver is not always a good idea. If you have an older distro (CentOS 6) you can install the fglrx Catalyst drivers. As a rule of thumb run the following command first:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">glxinfo</span> <span class="o">|</span>  <span class="n">grep</span> <span class="o">-</span><span class="n">E</span> <span class="s2">&quot; version| string| rendering|display&quot;</span>
</pre></div>
</div>
<p>If this reports an OpenGL core profile version string of 4.x, do not install Catalyst. If the OpenGL core profile version string says 3.0, then check on google if fglrx is safe to install for your distribution.</p>
<div class="section" id="id1">
<h4>libGL.so examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>An example of a CentOS 6 setup with AMD drivers should look a bit like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># first 4 lines are the 32bit AMD lib and symlinks</span>
<span class="c1"># next 4 lines are the 64bit AMD lib and symlinks</span>
<span class="c1"># last line is the renamed 64bit mesa library (renamed by the AMD driver installation)</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">612220</span> <span class="n">Dec</span> <span class="mi">18</span>  <span class="mi">2015</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">fglrx</span><span class="o">/</span><span class="n">fglrx</span><span class="o">-</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">19</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">21</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">33</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">fglrx</span><span class="o">/</span><span class="n">fglrx</span><span class="o">-</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">921928</span> <span class="n">Dec</span> <span class="mi">18</span>  <span class="mi">2015</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">fglrx</span><span class="o">/</span><span class="n">fglrx</span><span class="o">-</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">21</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">23</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="n">lrwxrwxrwx</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">35</span> <span class="n">Aug</span> <span class="mi">30</span> <span class="mi">08</span><span class="p">:</span><span class="mi">53</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">fglrx</span><span class="o">/</span><span class="n">fglrx</span><span class="o">-</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">561640</span> <span class="n">May</span> <span class="mi">11</span> <span class="mi">06</span><span class="p">:</span><span class="mi">38</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">FGL</span><span class="o">.</span><span class="n">renamed</span><span class="o">.</span><span class="n">libGL</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="opengl-direct-or-indirect-rendering">
<h2>OpenGL direct or indirect rendering<a class="headerlink" href="#opengl-direct-or-indirect-rendering" title="Permalink to this headline">¶</a></h2>
<p>OpenGL with X11 can run in two different modes: direct rendering and indirect rendering. The difference between them is that indirect rendering uses the GLX protocol to relay the OpenGL commands from the program to the hardware, which limits OpenGL capabilities to OpenGL 1.4.</p>
<p>When using OpenGL over X11 with SSH, quite often direct rendering is not available and you have to use indirect rendering. Unfortunately indirect rendering is not always secure, so it got disabled by default on many recent Linux Distros. If you are using the mesa <code class="docutils literal notranslate"><span class="pre">libGL.so</span></code>, you can run the following commands to test if indirect rendering is working on LocalBox:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">glxinfo</span>
<span class="n">export</span> <span class="n">LIBGL_ALWAYS_INDIRECT</span><span class="o">=</span><span class="mi">1</span>
<span class="n">glxinfo</span>
</pre></div>
</div>
<p>If glxinfo crashes with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="n">of</span> <span class="n">display</span><span class="p">:</span> <span class="p">:</span><span class="mi">0</span>
<span class="n">X</span> <span class="n">Error</span> <span class="n">of</span> <span class="n">failed</span> <span class="n">request</span><span class="p">:</span>  <span class="n">GLXBadContext</span>
  <span class="n">Major</span> <span class="n">opcode</span> <span class="n">of</span> <span class="n">failed</span> <span class="n">request</span><span class="p">:</span>  <span class="mi">154</span> <span class="p">(</span><span class="n">GLX</span><span class="p">)</span>
  <span class="n">Minor</span> <span class="n">opcode</span> <span class="n">of</span> <span class="n">failed</span> <span class="n">request</span><span class="p">:</span>  <span class="mi">6</span> <span class="p">(</span><span class="n">X_GLXIsDirect</span><span class="p">)</span>
  <span class="n">Serial</span> <span class="n">number</span> <span class="n">of</span> <span class="n">failed</span> <span class="n">request</span><span class="p">:</span>  <span class="mi">34</span>
  <span class="n">Current</span> <span class="n">serial</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">output</span> <span class="n">stream</span><span class="p">:</span>  <span class="mi">33</span>
</pre></div>
</div>
<p>after setting LIBGL_ALWAYS_INDIRECT=1, then you might need to enable indirect rendering on LocalBox.</p>
<div class="section" id="enabling-indirect-rendering-on-xorg-1-17-and-newer">
<h3>enabling indirect rendering on Xorg 1.17 and newer<a class="headerlink" href="#enabling-indirect-rendering-on-xorg-1-17-and-newer" title="Permalink to this headline">¶</a></h3>
<p>X 1.17 disables indirect rendering by default. Enabling it can be a bit tricky, because the xorg.conf flag is only available in 1.19 and newer, so you need to use the <strong>+iglx</strong> command line flag when starting the X server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be careful when making changes as root! Running these commands is at your own risk, and you should not execute them if you do not understand what they do.</p>
</div>
<div class="section" id="centos-6">
<h4>CentOS 6<a class="headerlink" href="#centos-6" title="Permalink to this headline">¶</a></h4>
<p>The X server call is hardcoded in gdm, so we need to create a wrapper script around Xorg. Log in as root on a console (Ctrl+Alt+F1) or via SSH and do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span>
<span class="n">mv</span> <span class="n">Xorg</span> <span class="n">Xorg</span><span class="o">.</span><span class="n">bin</span>
<span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;#!/bin/sh</span><span class="se">\n</span><span class="s1">exec /usr/bin/Xorg.bin +iglx &quot;$@&quot;&#39;</span> <span class="o">&gt;</span> <span class="n">Xorg</span>
<span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="n">Xorg</span>
<span class="n">init</span> <span class="mi">3</span> <span class="c1"># this stops the X server</span>
<span class="n">init</span> <span class="mi">5</span> <span class="c1"># this starts the X server again</span>
</pre></div>
</div>
</div>
<div class="section" id="ubuntu-16-04">
<h4>Ubuntu 16.04<a class="headerlink" href="#ubuntu-16-04" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">lightdm</span><span class="o">/</span><span class="n">lightdm</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="mi">50</span><span class="o">-</span><span class="n">xserver</span><span class="o">-</span><span class="n">command</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<p>change the last line from <code class="docutils literal notranslate"><span class="pre">xserver-command=X</span> <span class="pre">-core</span></code> to <code class="docutils literal notranslate"><span class="pre">xserver-command=X</span> <span class="pre">-core</span> <span class="pre">+iglx</span></code>
restart the machine, or restart the X server with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">lightdm</span> <span class="n">restart</span>
</pre></div>
</div>
</div>
<div class="section" id="osx-macos">
<h4>OSX / MacOS<a class="headerlink" href="#osx-macos" title="Permalink to this headline">¶</a></h4>
<p>Mac OS X users who update to XQuartz 2.7.9 will discover that they cannot use GLX applications remotely any more.
This includes the ADF-GUI. To solve, at this point in time: stick to the older version of XQuartz (2.7.8), or install the 2.17.10 beta version: <a class="reference external" href="https://www.xquartz.org/releases/XQuartz-2.7.10_beta2.html">https://www.xquartz.org/releases/XQuartz-2.7.10_beta2.html</a>. After installing they should run this command to enable GLX:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">defaults</span> <span class="n">write</span> <span class="n">org</span><span class="o">.</span><span class="n">macosforge</span><span class="o">.</span><span class="n">xquartz</span><span class="o">.</span><span class="n">X11</span> <span class="n">enable_iglx</span> <span class="o">-</span><span class="nb">bool</span> <span class="n">true</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="opengl2-with-x11-over-ssh">
<h2>OpenGL2+ with X11 over SSH<a class="headerlink" href="#opengl2-with-x11-over-ssh" title="Permalink to this headline">¶</a></h2>
<p>If you need OpenGL2+ features, there are two options: use direct rendering (this usually only works if both LocalBox and RemoteBox use a recent mesa libGL.so), or use <code class="docutils literal notranslate"><span class="pre">VirtualGL</span></code>.
The VirtualGL tool ( <a class="reference external" href="http://www.virtualgl.org/">http://www.virtualgl.org/</a> ) intercepts the OpenGL calls, does the 3D rendering on RemoteBox and then transports the resulting image to LocalBox. For more details on how this is achieved see <a class="reference external" href="https://cdn.rawgit.com/VirtualGL/virtualgl/2.5/doc/index.html">their documentation</a>.</p>
<p>Install VirtualGL on LocalBox and RemoteBox, and configure (run <code class="docutils literal notranslate"><span class="pre">vglserver_config</span></code> as root, see the <a class="reference external" href="https://cdn.rawgit.com/VirtualGL/virtualgl/2.5/doc/index.html#hd006%20to%20setup%20RemoteBox">VirtualGL documentation</a>) RemoteBox to operate as a VirtualGL server. RemoteBox should of course also have proper 3D hardware and drivers (intel integrated graphics with recent mesa drivers, or a dedicated AMD/NVidia GPU), and be capable of indirect rendering (see above).</p>
<p>Once virtualGL is installed and set up on RemoteBox and installed on LocalBox, open a terminal window on LocalBox and connect to RemoteBox with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vglconnect</span> <span class="o">-</span><span class="n">s</span> <span class="n">username</span><span class="nd">@RemoteBox</span>
</pre></div>
</div>
<p>This will start a VirtualGL client on LocalBox and set up two encrypted tunnels to RemoteBox. On RemoteBox you can now run OpenGL programs by starting them through <code class="docutils literal notranslate"><span class="pre">vglrun</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vglrun</span> <span class="n">glxinfo</span>
<span class="n">vglrun</span> <span class="n">glxgears</span>
</pre></div>
</div>
<p>If you look at the output of the glxinfo command when running through vglrun, you will see that both the server and client glx vendor string changed into “VirtualGL”, and the OpenGL renderer &amp; version string should now say something about the hardware of RemoteBox.</p>
</div>
<div class="section" id="adf2017-and-vtk7">
<h2>ADF2017 and VTK7<a class="headerlink" href="#adf2017-and-vtk7" title="Permalink to this headline">¶</a></h2>
<p>ADF2017 uses VTK7 and newer OpenGL features to dramatically speed up the visualization of large systems. This comes with a higher requirement for the OpenGL version supported by the system: OpenGL 3.2. If your machine does not support this, you might get the following error message when starting the GUI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">Warning</span><span class="p">:</span> <span class="n">In</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">builder</span><span class="o">/</span><span class="n">jenkins</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">trunk</span><span class="o">/</span><span class="n">label</span><span class="o">/</span><span class="n">centos6_impi_lxc</span><span class="o">/</span><span class="n">VTK</span><span class="o">/</span><span class="n">Rendering</span><span class="o">/</span><span class="n">OpenGL2</span><span class="o">/</span><span class="n">vtkOpenGLRenderWindow</span><span class="o">.</span><span class="n">cxx</span><span class="p">,</span> <span class="n">line</span> <span class="mi">647</span>
<span class="n">vtkXOpenGLRenderWindow</span> <span class="p">(</span><span class="mh">0x7b93c40</span><span class="p">):</span> <span class="n">VTK</span> <span class="ow">is</span> <span class="n">designed</span> <span class="n">to</span> <span class="n">work</span> <span class="k">with</span> <span class="n">OpenGL</span> <span class="n">version</span> <span class="mf">3.2</span> <span class="n">but</span> <span class="n">it</span> <span class="n">appears</span> <span class="n">it</span> <span class="n">has</span> <span class="n">been</span> <span class="n">given</span> <span class="n">a</span> <span class="n">context</span> <span class="n">that</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="mf">3.2</span><span class="o">.</span> <span class="n">VTK</span> <span class="n">will</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">compatibility</span> <span class="n">mode</span> <span class="n">designed</span> <span class="n">to</span> <span class="n">work</span> <span class="k">with</span> <span class="n">earlier</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">OpenGL</span> <span class="n">but</span> <span class="n">some</span> <span class="n">features</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">work</span><span class="o">.</span>
</pre></div>
</div>
<p>In such cases, a fallback mode is available that lowers the OpenGL requirement to version 1.4, but this fallback mode of course does not have the performance benefits of the newer OpenGL features. To enable the fallback mode, set the <code class="docutils literal notranslate"><span class="pre">SCM_OPENGL1_FALLBACK</span></code> environment variable to something non-zero:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">SCM_OPENGL1_FALLBACK</span><span class="o">=</span><span class="mi">1</span>
<span class="n">amsinput</span> <span class="o">&amp;</span>
</pre></div>
</div>
<p>The OpenGL 3.2 requirement should not present any problems, unless your hardware or OS is really old. Known problematic cases are:</p>
<ul class="simple">
<li>CentOS 6 with intel graphics has OpenGL 2.1 (possible solutions: get an NVidia or AMD GPU with closed-source drivers, or use the fallback mode)</li>
<li>OpenGL with X11 over SSH (possible solutions: use VirtualGL (see <a class="reference internal" href="#opengl2-with-x11-over-ssh">OpenGL2+ with X11 over SSH</a>) or the fallback mode)</li>
<li>Remote Desktop on Windows: The 32bit Windows version of ADF2017.107+ has been made OpenGL 1.4 compatible to deal with older hardware and Remote Desktop problems. You can try to install the 32bit version of ADF2017 on your Windows machine if you have problems with starting the GUI on Windows.</li>
</ul>
</div>
<div class="section" id="ams2019-ams2018-and-vtk7">
<h2>AMS2019/AMS2018 and VTK7<a class="headerlink" href="#ams2019-ams2018-and-vtk7" title="Permalink to this headline">¶</a></h2>
<p>AMS2019 uses the same VTK7 as AMS2018 and ADF2017, and thus also requires OpenGL 3.2 or newer. However, the OpenGL 1.4 fallback mode is now available on 64bit Windows and Linux, and should trigger automatically when it detects an OpenGL version on the system that is too old for the normal mode. The <code class="docutils literal notranslate"><span class="pre">SCM_OPENGL1_FALLBACK</span></code> environment variable can also still be used, for example when the detection is not working. Setting this on Windows can be done with the following steps: <code class="docutils literal notranslate"><span class="pre">Winkey+R</span></code>, <code class="docutils literal notranslate"><span class="pre">sysdm.cpl</span></code>, Advanced, Environment Variables… Here you can either add the <code class="docutils literal notranslate"><span class="pre">SCM_OPENGL1_FALLBACK</span></code> key with value 1 to the current user, or as admin for everyone on the system.</p>
</div>
<div class="section" id="ams2020-ams2021-and-vtk7">
<h2>AMS2020/AMS2021 and VTK7<a class="headerlink" href="#ams2020-ams2021-and-vtk7" title="Permalink to this headline">¶</a></h2>
<p>AMS2020/AMS2021 ships a software implementation of OpenGL on Linux and Windows. On Windows this is automatically enabled if the system has no support for OpenGL 3.2 or newer. The <code class="docutils literal notranslate"><span class="pre">SCM_OPENGL_SOFTWARE</span></code> environment variable can be set to use this on Linux, or force it on Windows. The <code class="docutils literal notranslate"><span class="pre">SCM_OPENGL1_FALLBACK</span></code> environment variable is no longer available.</p>
</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<p>The information on this page is a mashup of local knowledge, a lot of testing and reading on the web. The following pages contained some useful information:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Xorg-IGLX-Potential-Bye-Bye">https://www.phoronix.com/scan.php?page=news_item&amp;px=Xorg-IGLX-Potential-Bye-Bye</a></li>
<li><a class="reference external" href="https://wiki.archlinux.org/index.php/VirtualGL">https://wiki.archlinux.org/index.php/VirtualGL</a></li>
<li><a class="reference external" href="https://cdn.rawgit.com/VirtualGL/virtualgl/2.5/doc/index.html">https://cdn.rawgit.com/VirtualGL/virtualgl/2.5/doc/index.html</a></li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Direct_Rendering_Infrastructure">https://en.wikipedia.org/wiki/Direct_Rendering_Infrastructure</a></li>
<li><a class="reference external" href="https://unix.stackexchange.com/a/1441">https://unix.stackexchange.com/a/1441</a></li>
</ul>
</div>
</div>


           </div>
          </div>
          <!--STARTNOSOLR-->
<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Appendix_A_Environment_Variables.html" class="btn btn-neutral float-right" title="Appendix A. Environment Variables" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Additional_Information_and_Known_Issues.html" class="btn btn-neutral" title="Additional Information and Known Issues" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/> 

<!-- start :: footer -->
		<footer class="site-footer block">
			<div class="container">
				<div class="row">
					<div class="footer-column" >
	<ul>
		<li id="nav_menu-2" class="widget widget_nav_menu "><h3>Application Areas</h3><div class="menu-application-areas-container"><ul id="menu-application-areas" class="menu">
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/batteries/">Batteries &#038; PVs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/chemical-bonding-analysis/">Bonding Analysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/catalysis/">Catalysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/heavy-elements/">Heavy Elements</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/inorganic-chemistry/">Inorganic Chemistry</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/pharma/">Life Sciences</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/materials-science/">Materials Science</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/nanotechnology/">Nanotechnology</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/oil-and-gas/">Oil and Gas</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/organic-electronics/">Organic Electronics</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/polymers/">Polymers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/spectroscopy/">Spectroscopy</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/teaching/">Teaching</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-7" class="widget widget_nav_menu "><h3>Products</h3><div class="menu-product-navigation-container"><ul id="menu-product-navigation" class="menu">
<li id="menu-item-40263" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40263"><a href="https://www.scm.com/product/ams/">AMS Driver</a></li>
<li id="menu-item-7235" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7235"><a href="https://www.scm.com/product/adf/">ADF</a></li>
<li id="menu-item-7236" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7236"><a href="https://www.scm.com/product/band_periodicdft/">BAND</a></li>
<li id="menu-item-7237" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7237"><a href="https://www.scm.com/product/cosmo-rs/">COSMO-RS</a></li>
<li id="menu-item-7238" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7238"><a href="https://www.scm.com/product/dftb/">DFTB</a></li>
<li id="menu-item-7239" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7239"><a href="https://www.scm.com/product/gui/">GUI</a></li>
<li id="menu-item-44383" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-44383"><a href="https://www.scm.com/product/machine-learning-potentials/">MLPotential</a></li>
<li id="menu-item-7240" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7240"><a href="https://www.scm.com/product/mopac/">MOPAC</a></li>
<li id="menu-item-40262" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40262"><a href="https://www.scm.com/product/plams/">PLAMS</a></li>
<li id="menu-item-43701" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-43701"><a href="https://www.scm.com/product/quantum-espresso/">Quantum ESPRESSO</a></li>
<li id="menu-item-7241" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7241"><a href="https://www.scm.com/product/reaxff/">ReaxFF</a></li></ul></div></li><li id="nav_menu-26" class="widget widget_nav_menu "><div class="menu-licensing-container"><ul id="menu-licensing" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/">Pricing &#038; Licensing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/">Price Quote</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/calculate-your-price/">Price Calculator</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/consulting/">Scientific Consulting</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/adf-resellers/">Resellers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/scm-license-terms/">License Terms</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/ordering-procedure/">Ordering</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-6" class="widget widget_nav_menu "><h3>Support</h3><div class="menu-support-navigation-container"><ul id="menu-support-navigation" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/">Support Overview</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-installation-videos/">Installation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-tutorials-and-manuals/">Documentation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/doc/Tutorials/GUI_overview/GUI_overview_tutorials.html">GUI Tutorials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/downloads/">Downloads</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/faq/">FAQs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/adf-discussion-list/">Discussion List</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/documentation-previous-versions/release-notes/">Release Notes</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/adf-teaching-materials/">Teaching Materials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/adf-hands-on-workshops/">Workshops</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/web-presentations-by-adf-experts/">Webinars</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/videos-tutorials-and-web-presentations/">Videos</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/brochures/">Brochure</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/amsterdam-modeling-suite/research-papers-citing-adf/">Papers Citing ADF</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/highlights/">Literature Highlights</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-28" class="widget widget_nav_menu "><h3>About Us</h3><div class="menu-about-us-container"><ul id="menu-about-us" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/contact-us/">Contact Us</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/eu-projects/">EU Projects</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-authors/">Contributors</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-people/">The SCM Team</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/collaborations/">Collaborations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/careers/">Careers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/mission-vision/">Mission &#038; Vision</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/newsletters/">Newsletters</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/news/">News</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/">Events</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
			</ul>
</div>				</div>
			</div>
		</footer>
		<footer class="disclaimer-footer">
			<img src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="">
			<nav class="menu-service-navigation-container"><ul id="menu-service-navigation" class="menu-service navbar-nav"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-73"><a href="https://www.scm.com/copyright/">Copyright</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-72"><a href="https://www.scm.com/terms-of-use/">Terms of Use</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-71"><a href="https://www.scm.com/privacy-policy/">Privacy Policy</a></li>
</ul></nav></footer>	
		<!-- end :: footer -->

<!--ENDNOSOLR-->
        </div>
      </div>

    </section>
  </div>
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2021.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCRWHZZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>