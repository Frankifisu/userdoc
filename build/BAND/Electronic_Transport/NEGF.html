

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
<META name="ROBOTS" content="NOINDEX, NOFOLLOW">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Electronic Transport (NEGF) &mdash; BAND 2021.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme_tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/panels-bootstrap.min.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="BAND 2021.1 documentation" href="../index.html"/>
        <link rel="next" title="Expert Options" href="../Expert_Options/TOC.html"/>
        <link rel="prev" title="3D field visualization with BAND" href="../Analysis/ThreeD_Fields_Visualization.html"/> 

  
  <script src="../_static/js/jquery.min.js"></script>
  <script src="../_static/js/bootstrap.min.js"></script>
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/app.js"></script>
<script type="text/javascript">
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NCRWHZZ');</script>
<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav" role="document">
  <!--STARTNOSOLR-->
  <header class="site-header navbar-fixed-top compact">
      <nav class="main navbar navbar-default">
        <div class="headerbar_container">
          <a role="button" href="/free-trial/" class="btn btn-sm btn-primary">Free trial</a>
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="navbar-brand">
              <a class="logo" href="https://www.scm.com">
                <img class="logo-small" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="Software for Chemistry &amp; Materials" />
                <img class="logo-full" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo.svg" alt="Software for Chemistry &amp; Materials" />
              </a>
            </div>
          </div>
          <div class="nav-wrapper">
            <div class="collapse navbar-collapse">
              <ul id="menu-primary-navigation" class="nav navbar-nav"><li id="menu-item-40077" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-40077"><a title="Applications" href="https://www.scm.com/applications/">Applications</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a title="Products" href="https://www.scm.com/amsterdam-modeling-suite/">Products</a></li>
<li id="menu-item-36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-36"><a title="Support" href="https://www.scm.com/support/">Support</a></li>
<li id="menu-item-37" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-37"><a title="About us" href="https://www.scm.com/about-us/">About us</a></li>
</ul>                           <span class="search"><a class="menu_search_link" href="https://www.scm.com/search.php"></a><span class="sr-only">Search</span></span>
            </div>
          </div>
        </div>
      </nav>
 </header>
    

   
  <div id="doc-wrapper">
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" />
          
          </a>

          
          
  <ul>
      <li class="wy-breadcrumbs-aside">
        
           
           <a class="keyword-spacing" href="../keywords.html">Keywords</a>
           
           
           <a href="../genindex.html">Index</a>
           
        
      </li>
  </ul>
 
<!--ENDNOSOLR-->
             <!--STARTNOSOLR-->
<div role="search">
  <form id="rtd-search-form" class="wy-form search-docs-form" action="https://www.scm.com/search.php" method="get">
  <div class="input-group">
    <input type="text" name="search" placeholder="Search BAND" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <input type="hidden" name="root" value="doctrunk" />


    <input type="hidden" name="cat" value="doc-BAND" />


    <span class="input-group-btn">
			<button type="submit" class="btn btn-primary"><span class="sr-only">Search</span><span class="fa fa-search"></span></button>
		</span>
	</div>
  </form>
</div>
<!--ENDNOSOLR-->
          

          
        </div>
<!--STARTNOSOLR-->
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../General/TOC.html">General</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../General/Introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/feature_list.html">Feature List</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#model-hamiltonians">Model Hamiltonians</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#structure-and-reactivity">Structure and Reactivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#spectroscopy-and-properties">Spectroscopy and Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#charge-transport">Charge transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#analysis">Analysis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../General/New_in_BAND.html">What’s new in Band 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/New_in_BAND.html#what-s-new-in-band-2020">What’s new in Band 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/input.html">Input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#general-remarks-on-input-structure-and-parsing">General remarks on input structure and parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#keys">Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#blocks">Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#including-an-external-file">Including an external file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#units">Units</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html">AMS driver’s tasks and properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#geometry-system-definition">Geometry, System definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#tasks-exploring-the-pes">Tasks: exploring the PES</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#properties-in-the-ams-driver">Properties in the AMS driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Model_Hamiltonians/TOC.html">Model Hamiltonians</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html">Density Functional (XC)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#lda-gga-metagga">LDA/GGA/metaGGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#dispersion-correction">Dispersion Correction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#d4-eeq">D4(EEQ)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#d3-and-d3-bj">D3 and D3-BJ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#model-potentials">Model Potentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#non-collinear-approach">Non-Collinear Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#libxc-library-integration">LibXC Library Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#range-separated-hybrid-functionals">Range-separated hybrid functionals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#defaults-and-special-cases">Defaults and special cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#gga-u">GGA+U</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#index-12">OEP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#dft-1-2">DFT-1/2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html">Relativistic Effects and Spin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html#spin-polarization">Spin polarization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html#relativistic-effects">Relativistic Effects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Solvation.html">Solvation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/COSMO.html">COSMO: Conductor like Screening Model and the Solvation-key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/COSMO.html#additional-keys-for-periodic-systems">Additional keys for periodic systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/SM12.html">SM12: Solvation Model 12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/SM12.html#input">Input</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html">Electric and Magnetic Fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#electric-field">Electric Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#magnetic-field">Magnetic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#atom-wise-fuzzy-potential">Atom-wise fuzzy potential</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Nuclear_Model.html">Nuclear Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Accuracy_and_Efficiency/TOC.html">Accuracy and Efficiency</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html">Basis set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#basis-input-block">Basis input block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#which-basis-set-should-i-use">Which basis set should I use?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#available-basis-sets">Available Basis Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#more-basis-input-options">More Basis input options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#confinement-of-basis-functions">Confinement of basis functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#manually-specifying-atomtypes-expert-option">Manually specifying AtomTypes (expert option)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#basis-set-superposition-error-bsse">Basis Set Superposition Error (BSSE)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html">K-Space</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#kspace-input-block">KSpace input block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#regular-k-space-grid">Regular K-Space grid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#symmetric-k-space-grid-tetrahedron-method">Symmetric K-Space grid (tetrahedron method)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#recommendations-for-k-space">Recommendations for k-space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html">Numerical Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#becke-grid">Becke Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#radial-grid-of-naos">Radial grid of NAOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#voronoi-grid-deprecated">Voronoi grid (deprecated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html">Density Fitting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#zlm-fit">Zlm Fit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#expert-options">Expert options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#sto-fit-deprecated">STO Fit (Deprecated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Hartree-Fock_RI.html">Hartree–Fock RI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html">Self Consistent Field (SCF)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#scf-block">SCF block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#convergence">Convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#diis">DIIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#multisecant">Multisecant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#diris">DIRIS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html">More Technical Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#linear-scaling">Linear Scaling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#dependency">Dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#screening">Screening</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#direct-on-the-fly-calculation-of-basis-and-fit">Direct (on the fly) calculation of basis and fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#fermi-energy-search">Fermi energy search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#block-size">Block size</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Spectroscopy_and_Properties/TOC.html">Spectroscopy and Properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Frequencies_and_Phonons.html">Frequencies and Phonons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Elastic_Tensor.html">Elastic Tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html">Optical Properties: Time-Dependent Current DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#insulators-semiconductors-and-metals">Insulators, semiconductors  and metals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#frequency-dependent-kernel">Frequency dependent kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#eels">EELS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#input-options">Input Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#newresponse">NewResponse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#oldresponse">OldResponse</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/ESR_EPR.html">ESR/EPR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/EFG.html">Nuclear Quadrupole Interaction (EFG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/NMR.html">NMR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Effective_Mass.html">Effective Mass</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Properties_at_Nuclei.html">Properties at Nuclei</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/X-Ray_Form_Factors.html">X-Ray Form Factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Berry_Phase.html">Dipole moment and Berry Phase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Analysis/TOC.html">Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/DOS.html">Density of States (DOS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/DOS.html#gross-populations">Gross populations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/DOS.html#overlap-populations">Overlap populations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Band_Structure.html">Band Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#user-defined-path-in-the-brillouin-zone">User-defined path in the Brillouin zone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#definition-of-the-fat-bands">Definition of the Fat Bands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#band-gap">Band Gap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Charges.html">Charges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Charges.html#default-atomic-charge-analysis">Default Atomic Charge Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Charges.html#bader-analysis-aim">Bader Analysis (AIM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Fragments.html">Fragments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html">Energy Decomposition Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html#periodic-energy-decomposition-analysis-peda">Periodic Energy Decomposition Analysis (PEDA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html#periodic-energy-decomposition-analysis-and-natural-orbitals-of-chemical-valency-peda-nocv">Periodic Energy Decomposition Analysis and natural orbitals of chemical valency (PEDA-NOCV)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/LDOS.html">Local Density of States (STM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/ThreeD_Fields_Visualization.html">3D field visualization with BAND</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Electronic Transport (NEGF)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transport-with-negf-in-a-nutshell">Transport with NEGF in a nutshell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#self-consistency">Self consistency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contour-integral">Contour integral</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gate-potential">Gate potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bias-potential">Bias potential</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-options">Input options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgf-input-options">SGF Input options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#negf-input-options-no-bias">NEGF Input options (no bias)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#negf-input-options-with-bias">NEGF Input options (with bias)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#negf-input-options-alignment">NEGF Input options (alignment)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous-remarks-on-band-negf">Miscellaneous remarks on BAND-NEGF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#store-tight-binding-hamiltonian">Store tight-binding Hamiltonian</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Expert_Options/TOC.html">Expert Options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Restarts.html">Restarts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#restart-key">Restart key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#grid">Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#plots-of-the-density-potential-and-many-more-properties">Plots of the density, potential, and many more properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#orbital-plots">Orbital plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#induced-density-plots-of-response-calculations">Induced Density Plots of Response Calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#nocv-orbital-plots">NOCV Orbital Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#nocv-deformation-density-plots">NOCV Deformation Density Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#ldos-stm">LDOS (STM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#save">Save</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Symmetry.html">Symmetry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Symmetry.html#symmetry-breaking-for-scf">Symmetry breaking for SCF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Advanced_Occupation_Options.html">Advanced Occupation Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/TOC.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Recommendations.html">Recommendations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Recommendations.html#model-hamiltonian">Model Hamiltonian</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#relativistic-model">Relativistic model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#xc-functional">XC functional</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Recommendations.html#technical-precision">Technical Precision</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Recommendations.html#performance">Performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#reduced-precision">Reduced precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#memory-usage">Memory usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#reduced-basis-set">Reduced basis set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#frozen-core-for-5d-elements">Frozen core for 5d elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Recommendations.html#performance-on-machines-with-many-cores">Performance on machines with many cores</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#scf-does-not-converge">SCF does not converge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#finite-temperature-during-geometry-optimization">Finite temperature during geometry optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#geometry-does-not-converge">Geometry does not converge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#negative-frequencies-in-phonon-spectra">Negative frequencies in phonon spectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#basis-set-dependency">Basis set dependency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#using-confinement">Using confinement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#removing-basis-functions">Removing basis functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Trouble_Shooting.html#frozen-core-too-large">Frozen core too large</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Various_issues.html">Various issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Various_issues.html#understanding-the-logfile">Understanding the logfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Various_issues.html#breaking-the-symmetry">Breaking the symmetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Various_issues.html#labels-for-the-basis-functions">Labels for the basis functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Various_issues.html#reference-and-startup-atoms">Reference and Startup Atoms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Various_issues.html#numerical-atoms-and-basis-functions">Numerical Atoms and Basis functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Error_messages.html">Warnings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Troubleshooting/Error_messages.html#warnings-specific-to-periodic-codes-band-dftb">Warnings specific to periodic codes (BAND, DFTB)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Examples/TOC.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#model-hamiltonians">Model Hamiltonians</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BetaIron.html">Example: Spin polarization: antiferromagnetic iron</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BFieldLdotB.html">Example: Applying a Magnetic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Graphene_Dispersion.html">Example: Graphene sheet with dispersion correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/HonPerovskite_Solvation.html">Example: H on perovskite with the COSMO solvation model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/EField.html">Example: Applying a homogeneous electric field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/FiniteNucleus.html">Example: Finite nucleus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NiO_Hubbard.html">Example: Fixing the Band gap of NiO with GGA+U</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/ZnS_ModelPotential.html">Example: Fixing the band gap of ZnS with the TB-mBJ model potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/DFTHalf_Si.html">Example: DFT-1/2 method for Silicon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#precision-and-performance">Precision and performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BasisDefaults.html">Example: Convenient way to specify a basis set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Peptide_NumericalQuality.html">Example: Tuning precision and performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Multiresolution_H2O.html">Example: Multiresolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BSSE.html">Example: BSSE correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BandAutomations.html">Example: Speed up SCF during geometry optimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#restarts">Restarts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/RestartSCF.html">Example: Restart the SCF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/RestartProperties.html">Example: Restart SCF for properties calculation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BeO_tape41.html">Example: Properties on a grid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#negf">NEGF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_Cr_wire.html">Example: Main NEGF flavors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_bias.html">Example: NEGF with bias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_Conductance.html">Example: NEGF using the non-self consistent method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#structure-and-reactivity">Structure and Reactivity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NaCl.html">Example: NaCl: Bulk Crystal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/COChainFreqTS.html">Example: Transition-State search using initial Hessian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/H_ref.html">Example: Atomic energies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BNForce.html">Example: Calculating the atomic forces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/H2BulkGeo.html">Example: Optimizing the geometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#time-dependent-dft">Time dependent DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_2DMoS2Restart.html">Example: TD-CDFT for MoS2 Monolayer (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_3DCopper.html">Example: TD-CDFT for Copper (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_PlotInducedDensity.html">Example: TDCDFT: Plot induced density (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/OldResp_Diamond.html">Example: TD-CDFT for bulk diamond (OldResponse)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#spectroscopy">Spectroscopy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/TiF3a.html">Example: Hyperfine A-tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/TiF3g.html">Example: Zeeman g-tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PE-NMR.html">Example: NMR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/SnO_EFG.html">Example: EFG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/GraphenePhonons.html">Example: Phonons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#analysis">Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Frags_COCu.html">Example: CO absorption on a Cu slab: fragment option and densityplot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/GridKey.html">Example: Grid key for plotting results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDA_0D_PtCl4H2.html">Example: H2 on [PtCl4]2-: charged molecules and PEDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDA_MgO+CO.html">Example: CO absorption on a MgO slab: fragment option and PEDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDANOCV_MgO+CO.html">Example: CO absorption on a MgO slab: fragment option, PEDA and PEDANOCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Li2O_Bader.html">Example: Bader analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PropertiesAtNuclei.html">Example: Properties at nuclei</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Li_BZPlot.html">Example: Band structure plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/EffectiveMass.html">Example: Effective Mass (electron mobility)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Si_ElectronHole.html">Example: Generating an Excited State with and Electron Hole</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BNSlabLDOS.html">Example: LDOS (STM) for a BN slab</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#list-of-examples">List of Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Required_citations.html">Required Citations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#general-references">General References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#feature-references">Feature References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#geometry-optimization">Geometry optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#tddft">TDDFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#relativistic-tddft">Relativistic TDDFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#vignale-kohn">Vignale Kohn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#nmr">NMR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#esr">ESR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#negf">NEGF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#external-programs-and-libraries">External programs and Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../keywords.html">Keywords</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../keywords.html#links-to-manual-entries">Links to manual entries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keywords.html#summary-of-all-keywords">Summary of all keywords</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">BAND</a>
      </nav>
<!--ENDNOSOLR-->

      
      <div class="wy-nav-content">
        <div class="rst-content">
        <!--STARTNOSOLR-->
<div class="header" role="navigation" aria-label="breadcrumbs navigation">
 
  <ul class="wy-breadcrumbs">
    <li><a href="../BAND.html/../../Documentation/index.html">Documentation</a>/</li>
    <li><a href="../index.html">BAND</a>/</li>
      
    <li class="orange-text">Electronic Transport (NEGF)</li>
  </ul>
  <p>
 
</div>
<!--ENDNOSOLR-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="index-0"></span><div class="section" id="electronic-transport-negf">
<span id="negf"></span><span id="index-1"></span><h1>Electronic Transport (NEGF)<a class="headerlink" href="#electronic-transport-negf" title="Permalink to this headline">¶</a></h1>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="../../Tutorials/ElectronicTransport/index.html">BAND-NEGF GUI tutorial</a></p>
</div>
<p>Some examples are available in the <code class="docutils literal notranslate"><span class="pre">$AMSHOME/examples/band</span></code> directory and are discussed in the Examples section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../Examples/NEGF_Cr_wire.html#example-negf-cr-wire"><span class="std std-ref">Example: Main NEGF flavors</span></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../Examples/NEGF_bias.html#example-negf-bias"><span class="std std-ref">Example: NEGF with bias</span></a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In the BAND-GUI it is possible to choose between three NEGF methods (<em>flavors</em>):</p>
<dl class="last docutils">
<dt>Self consistent</dt>
<dd>This is the internal BAND-NEGF implementation, which is described in this page.</dd>
<dt>Self consistent + align</dt>
<dd>This is the internal BAND-NEGF implementation with an extra alignment-run (workflow step 3a)</dd>
<dt>Non self consistent</dt>
<dd>Computationally cheap method, equivalent to the <a class="reference external" href="../../DFTB/NEGF.html">DFTB-NEGF</a> approach with <span class="math notranslate nohighlight">\(H\)</span> and <span class="math notranslate nohighlight">\(S\)</span> matrix elements computed by BAND (instead of DFTB).</dd>
</dl>
</div>
<div class="section" id="transport-with-negf-in-a-nutshell">
<h2>Transport with NEGF in a nutshell<a class="headerlink" href="#transport-with-negf-in-a-nutshell" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Non-Equilibrium Green’s Functions</strong> formalism (<strong>NEGF</strong>) is a theoretical framework for modeling electron transport through nano-scale devices.
Electron transport is treated as a one-dimensional coherent scattering process in the “scattering region” for electrons coming in from the electrodes:</p>
<img alt="../_images/NEGF_regions.png" src="../_images/NEGF_regions.png" />
<p>Our goal is to compute the <strong>transmission function</strong> <span class="math notranslate nohighlight">\(T(E)\)</span>, which describes the rate at which electrons of energy <span class="math notranslate nohighlight">\(E\)</span> are transferred from the left electrode to the right electrode by propagating through the scattering region.
From the transmission function we can calculate the electric current for given <strong>Bias Voltage</strong> <span class="math notranslate nohighlight">\(V\)</span> applied between the electrodes:</p>
<div class="math notranslate nohighlight">
\[I(V) = \frac{2e}{h} \int_{-\infty}^\infty T(E,V) \left( f(E - \mu_L) - f(E - \mu_R) \right) dE\]</div>
<p>where <span class="math notranslate nohighlight">\(f(E)\)</span> is the Fermi-Dirac distribution function for a given temperature, and <span class="math notranslate nohighlight">\(\mu_L\)</span> (<span class="math notranslate nohighlight">\(\mu_R\)</span>) is <span class="math notranslate nohighlight">\(\epsilon_F + eV/2\)</span> (<span class="math notranslate nohighlight">\(\epsilon_F - eV/2\)</span>), <span class="math notranslate nohighlight">\(\epsilon_F\)</span> being the Fermi energy of the electrodes.</p>
<p>The transmission function <span class="math notranslate nohighlight">\(T(E)\)</span> can be computed from the <strong>Green’s function</strong> of our system.</p>
<p>The Green’s function <span class="math notranslate nohighlight">\(G(E)\)</span> of the scattering region is obtained solving the following equation:</p>
<div class="math notranslate nohighlight">
\[(E S - H) G(E) = I\]</div>
<p>where <span class="math notranslate nohighlight">\(S\)</span> is the overlap matrix, <span class="math notranslate nohighlight">\(H\)</span> is the Hamiltonian and <span class="math notranslate nohighlight">\(I\)</span> is the identity matrix.
The Hamiltonian is composed as follows (<strong>L</strong>, <strong>C</strong> and <strong>R</strong> denote the <strong>left lead</strong>, the <strong>central region</strong> and the <strong>right lead</strong> respectively):</p>
<div class="math notranslate nohighlight">
\[\begin{split}H = \left( \begin{array}{ccc}
H_L + \Sigma_L  &amp; H_{LC}  &amp; 0 \\
H_{LC}          &amp; H_C     &amp; H_{RC} \\
0               &amp; H_{RC}  &amp; H_R + \Sigma_R
\end{array} \right)\end{split}\]</div>
<p>The two <em>self-energies</em> <span class="math notranslate nohighlight">\(\Sigma_L\)</span> and <span class="math notranslate nohighlight">\(\Sigma_R\)</span> model the two semi-infinite electrodes.</p>
<p>The transmission function <span class="math notranslate nohighlight">\(T(E)\)</span> can be calculated from the Green’s function <span class="math notranslate nohighlight">\(G(E)\)</span> and the so-called <em>broadening matrices</em> <span class="math notranslate nohighlight">\(\Gamma_L(E)\)</span> and <span class="math notranslate nohighlight">\(\Gamma_R(E)\)</span>:</p>
<div class="math notranslate nohighlight">
\[T(E) = Tr[G(E) \Gamma_R(E) G(E) \Gamma_L(E)]\]</div>
<p>The broadening matrix being</p>
<div class="math notranslate nohighlight">
\[\Gamma_L(E) = -2 \Im \Sigma_L(E)\]</div>
<div class="section" id="self-consistency">
<h3>Self consistency<a class="headerlink" href="#self-consistency" title="Permalink to this headline">¶</a></h3>
<p>The density matrix is determined self consistently <a class="footnote-reference" href="#ref1" id="id1">[1]</a>:</p>
<div class="math notranslate nohighlight">
\[P_\text{in} \rightarrow H_{KS} \stackrel{\mbox{shifts}}{\longrightarrow} H_\text{aligned} + \Sigma_L(E)  + \Sigma_R(E) \rightarrow G(E) \stackrel{\int de}{\longrightarrow} P_\text{out}\]</div>
<p>From a guess of the density matrix the corresponding KS Hamiltonian is calculated. This Hamiltonian is aligned, and then the NEGF Hamiltonian in the complex plane is constructed by adding the self energies, representing the influence of the electrodes. From the resulting Green’s function a new density matrix follows.</p>
<p>From the difference between input and output density a next input is guessed. This is repeated until the input and output densities converge.</p>
<p>For the alignment of the Hamiltonian there are two shifts. The first shift aligns the potential in the leads to the electrodes.</p>
<div class="math notranslate nohighlight">
\[\mbox{shift 1} = \frac{1}{n} \sum_\text{i in lead}^n \frac{H^{TB}_{ii} - H^{KS}_{ii}}{S_{ii}}\]</div>
<p>The second and usually smaller shift results from the alignment run. A shift <span class="math notranslate nohighlight">\(\Delta\)</span> is applied globally</p>
<div class="math notranslate nohighlight">
\[H_{ij}^\text{aligned} = H_{ij} + \Delta S_{ij}\]</div>
</div>
<div class="section" id="contour-integral">
<h3>Contour integral<a class="headerlink" href="#contour-integral" title="Permalink to this headline">¶</a></h3>
<p>Without bias the density matrix follows from</p>
<div class="math notranslate nohighlight">
\[P(\mu) = -\frac{1}{\pi} \int_{-\infty}^{\infty} de \; f(e,\mu) \; \Im G(e)\]</div>
<p>As the Green’s function is singular on the real axis we add a small imaginary value (<strong>eta</strong>) to the energy. Still, the integrand will be very wild function, and it is numerically better to do a contour integral instead.</p>
<div class="figure" id="id7">
<img alt="../_images/NEGF_DensityContour.png" src="../_images/NEGF_DensityContour.png" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">Figure: BAND uses a rectangular contour in the complex energy plane to integrate the (integrand of the) density matrix. The integrand also needs to be evaluated in the enclosed FD poles (three in this picture).</span></p>
</div>
</div>
<div class="section" id="gate-potential">
<h3>Gate potential<a class="headerlink" href="#gate-potential" title="Permalink to this headline">¶</a></h3>
<p>There is no direct key for the gate potential. You can model this with the <a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#band-key-fuzzypotential"><span class="std std-ref">FuzzyPotential</span></a> key. Setting up the gate potential for NEGF is most conveniently done with the GUI.</p>
</div>
<div class="section" id="bias-potential">
<h3>Bias potential<a class="headerlink" href="#bias-potential" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="../_images/NEGF_Bias.png" src="../_images/NEGF_Bias.png" />
</div>
<p>When there is a bias specified there are two important things to keep in mind.</p>
<p>First of all you need to define a ramp potential. In the negative lead this should have the value +V/2 and in the negative lead -V/2. The ramp should smoothly go from one to the other value. For metals one could start the ramp at the surface atoms of the lead material. For semi-conductors it is less clear. The ramp potential can be specified with the <a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#band-key-fuzzypotential"><span class="std std-ref">FuzzyPotential</span></a> key. The GUI can be helpful here.</p>
<p>Secondly, the expression for the density is different from the zero-bias case:</p>
<div class="math notranslate nohighlight">
\[\rho = \rho_\text{eq}(\mu_+) + \rho_\text{neq}\]</div>
<p>The first (equilibrium) term is calculated with a contour integral as before, the second (non-equilibrium) part cannot be calculated with a contour integral. Instead, an integral in the complex plane (close to the real axis) is performed, the range covering the bias energy window.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://www.scm.com/wp-content/uploads/Verzijl2012.pdf">PhD Thesis</a> of C. Verzijl (BAND-NEGF developer)</p>
</div>
</div>
</div>
<div class="section" id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h2>
<p>The computation of the transmission function <span class="math notranslate nohighlight">\(T(E)\)</span> within the BAND-NEGF <a class="footnote-reference" href="#ref1" id="id2">[1]</a> formalisms requires three or four individual simulations.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Use ADFInput (GUI) to set up your BAND-NEGF calculation (see the <a class="reference external" href="../../Tutorials/ElectronicTransport/index.html">BAND-NEGF GUI tutorial</a>)</p>
</div>
<dl class="docutils">
<dt>1): Lead calculation</dt>
<dd><p class="first">A 1D-periodic BAND calculation of the lead (including <a class="reference internal" href="#band-key-storehamiltonian2"><span class="std std-ref">StoreHamiltonian2</span></a>):</p>
<img alt="../_images/NEGF_lead_calc.png" src="../_images/NEGF_lead_calc.png" />
<p class="last">A tight binding (TB) representation is calculated for the overlap (<span class="math notranslate nohighlight">\(S(R=0)\)</span> and <span class="math notranslate nohighlight">\(S(R=a)\)</span>) and Fock matrix (<span class="math notranslate nohighlight">\(H(R=0)\)</span> and <span class="math notranslate nohighlight">\(H(R=a)\)</span>).  This is not an approximation provided that the functions do not extend beyond the neighboring cells. You should choose a sufficiently large super cell for this to be true. For this reason we recommend setting the <a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#band-key-softconfinement"><span class="std std-ref">SoftConfinement</span></a> Quality to Basic, thus reducing the range of the functions.</p>
</dd>
<dt>2): SGF calculation</dt>
<dd>A small program that determines the fermi energy <span class="math notranslate nohighlight">\(\epsilon_F\)</span> corresponding to the TB representation, and the specified temperature. This fermi energy is typically a bit higher than the one from the lead calculation. This also tests the contour integration.</dd>
<dt>3a): Alignment run (optional)</dt>
<dd>The idea is to fill the central region with bulk material. Then one expects to have zero charge in the central region. In practice this is not exactly true. In the alignment run the shift is determined that makes the central region neutral. This global shift is to be used in the next run.</dd>
<dt>3b): Transport calculation</dt>
<dd>Computes the NEGF transmission function <span class="math notranslate nohighlight">\(T(E)\)</span>. The density matrix is determined fully self-consistently. Without alignment (3a) one should set <code class="docutils literal notranslate"><span class="pre">NEGF%ApplyShift2</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</dd>
</dl>
<p>To get the current as a function of bias potential you need to repeat calculation 3b for a various bias potentials.</p>
</div>
<div class="section" id="input-options">
<h2>Input options<a class="headerlink" href="#input-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sgf-input-options">
<h3>SGF Input options<a class="headerlink" href="#sgf-input-options" title="Permalink to this headline">¶</a></h3>
<p>SGF is a small separate program. An input looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$AMSBIN/sgf   &lt;&lt; eor
TITLE Test for NEGF inputs
SAVE SIGMA
SURFACEGF
   SCMCode True
   KT 0.001
   ContourQuality normal
END
eor
</pre></div>
</div>
<p>It looks for a file <code class="docutils literal notranslate"><span class="pre">RUNKF</span></code> and the output is a file named <code class="docutils literal notranslate"><span class="pre">SigmaSCM</span></code>. The only important parameter is KT which is the Boltzmann constant times the temperature in Hartree. The other parameter of interest is the ContourQuality, which can be set to Basic,Normal,Good,VeryGood, or Excellent.</p>
</div>
<div class="section" id="negf-input-options-no-bias">
<h3>NEGF Input options (no bias)<a class="headerlink" href="#negf-input-options-no-bias" title="Permalink to this headline">¶</a></h3>
<p>The NEGF functionality is controlled by the NEGF block key.</p>
<div class="highlight-none notranslate" id="band-key-negf"><div class="highlight"><pre><span></span>NEGF
   LeadFile string
   SGFFile string
   ContourQuality [basic | normal | good | verygood]
   EMin float
   EMax float
   NE integer
End
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">NEGF</span></code></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Block</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">Options for the NEGF (non-equilibrium green function) transport calculation.</td>
</tr>
</tbody>
</table>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">LeadFile</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">File containing the tight binding representation of the lead.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SGFFile</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The result from the SGF program. Contains the Fermi energy of the lead.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ContourQuality</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Multiple Choice</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">good</td>
</tr>
<tr class="field-odd field"><th class="field-name">Options:</th><td class="field-body">[basic, normal, good, verygood]</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">The density matrix is calculated numerically via a contour integral. Changing the quality influences the number of points. This influences a lot the performance.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMin</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">-5.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Unit:</th><td class="field-body">eV</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">The minimum energy for the transmission grid (with respect to the Fermi level of the lead)</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EMax</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">5.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Unit:</th><td class="field-body">eV</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">The maximum energy for the transmission grid (with respect to the Fermi level of the lead)</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NE</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">100</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of energies for the transmission energy grid.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<p>The following are expert / technical options:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NEGF
   CheckOverlapTol float
   Eta float
   ApplyShift1 Yes/No
   ApplyShift2 Yes/No
   YContourInt float
   DEContourInt float
End
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">NEGF</span></code></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Block</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">Options for the NEGF (non-equilibrium green function) transport calculation.</td>
</tr>
</tbody>
</table>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">CheckOverlapTol</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">0.01</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">BAND checks how well the TB overlap matrix S(R=0) represents the overlap matrix in the lead region. Elements corresponding to the outer layer are neglected, because when using a frozen core they have bigger errors.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Eta</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">1e-05</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Small value used for the contour integral: stay at least this much above the real axis. This value is also used for the evaluation of the Transmission and dos.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ApplyShift1</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Apply the main shift, obtained from comparing matrix elements in the leads with those from the tight-binding run. Strongly recommended.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ApplyShift2</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">Yes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Apply the smaller alignment shift. This requires an extra alignment run. Usually this shift is smaller.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">YContourInt</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">0.3</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The density is calculated via a contour integral. This value specifies how far above the real axis the (horizontal part of the) contour runs. The value is rounded in such a way that it goes exactly halfway between two Fermi poles. There is a trade off: making it bigger makes the integrand more smooth, but the number of enclosed poles increases. For low temperatures it makes sense to lower this value, and use a smaller deContourInt.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DEContourInt</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">-1.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The energy interval for the contour grid. Defaults depends on the contour quality</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="negf-input-options-with-bias">
<h3>NEGF Input options (with bias)<a class="headerlink" href="#negf-input-options-with-bias" title="Permalink to this headline">¶</a></h3>
<p>With a bias potential there are some extra keys.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NEGF
   BiasPotential float
   NonEqDensityMethod integer
   BoundOccupationMethod integer
   YRealaxisInt float
   DERealAxisInt float
End
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">NEGF</span></code></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Block</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">Options for the NEGF (non-equilibrium green function) transport calculation.</td>
</tr>
</tbody>
</table>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">BiasPotential</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">0.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Apply a bias potential (atomic units). Can be negative. One has to specify the ramp potential with the FuzzyPotential key. This is mostly conveniently done with the GUI.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NonEqDensityMethod</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">See text.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BoundOccupationMethod</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">See text. Only relevant with NonEqDensityMethod equal 2 or 3.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">YRealaxisInt</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">1e-05</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The non-Equilibrium density is calculated near the real axis.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DERealAxisInt</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">-1.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The energy interval for the real axis grid. Defaults depends on the contour quality.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">NonEqDensityMethod</span></code></dt>
<dd><p class="first">Let us introduce some terms <a class="footnote-reference" href="#ref2" id="id3">[2]</a>. First of all the total density in the bias window (ignoring occupation)</p>
<div class="math notranslate nohighlight">
\[D = \frac{1}{2\pi}  \int A \; (f_--f_+)\]</div>
<p>And then there are the side resolved densities</p>
<div class="math notranslate nohighlight">
\[D_{+/-} = \frac{1}{2\pi}  \int A_{+/-} \; (f_--f_+)\]</div>
<p>The issue here is that the side resolved densities do not sum to the total one</p>
<div class="math notranslate nohighlight">
\[D = D_{+} + D_{-} + D_\text{bound states}\]</div>
<p class="last">The NonEqDensityMethod is about how these integrals are calculated . With option 1, or 2 a contour integral is used for D: they are essentially the same. However, when choosing option 2, you can choose a BoundOccupationMethod, leading to other physics. If set to 3, the total density in the bias window (D) will be calculated near the real axis: this way one avoids the possibility of a negative nr. of bound states (deviating from <a class="footnote-reference" href="#ref2" id="id4">[2]</a>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BoundOccupationMethod</span></code></dt>
<dd><p class="first">Only relevant with NonEqDensityMethod equal 2 or 3. If set to one, the density of bound states (ignoring occupation) is simply multiplied by a half. If set to two, atoms closer to the negative lead will get a higher occupation <a class="footnote-reference" href="#ref2" id="id5">[2]</a>. Atoms coupled to the right lead will have a low occupation. For this we recommend setting NonEqDensityMethod to 3, to avoid a possible negative number of bound states.</p>
<div class="figure" id="id8">
<img alt="../_images/NEGF_BoundStates.png" src="../_images/NEGF_BoundStates.png" />
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">Figure: The non-equilibrium density consists of three parts: the left and right parts (ρ-/neq and ρ+/neq) and the bound states (ρbound). We want to know the occupied part.</span></p>
</div>
<p>Setting the method BoundOccupationMethod to 1, leads to</p>
<div class="math notranslate nohighlight">
\[\rho = \rho(\mu_+) +  \rho_\text{-/neq}  + \frac{1}{2}\rho_\text{bound}\]</div>
<p>By setting the method to 2, each atom gets its own weight in the density matrix</p>
<div class="math notranslate nohighlight">
\[\rho_{ij} = \rho_{ij}(\mu_+) +  \rho_\text{-/neq}  + \sqrt{w_i w_j} \rho^\text{bound}_{ij}\]</div>
<p>with <a class="footnote-reference" href="#ref2" id="id6">[2]</a></p>
<div class="math notranslate nohighlight">
\[w_i = \frac{\text{Tr} [D_-]_i}{\text{Tr} [D_-]_i + \text{Tr} [D_+]_i}\]</div>
<p>These weights are the same for all functions on an atom. The intended effect is: bound states that are coupled more strongly to the negative electrode get a higher occupation than the ones that are coupled more strongly to the positive electrode.</p>
<p>To summarize here are three reasonable settings</p>
<table border="1" class="last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>NonEqDensityMethod</td>
<td>BoundOccupationMethod</td>
<td>intention</td>
</tr>
<tr class="row-even"><td>1</td>
<td>1</td>
<td>Multiply the bound states with a half</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>2</td>
<td>Occupy bound states with atom-resolved <span class="math notranslate nohighlight">\(w_i\)</span></td>
</tr>
<tr class="row-even"><td>3</td>
<td>2</td>
<td>… and prevent a negative nr. of bound states</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>To get the current from a calculation you can use amsprep:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$AMSBIN/amsreport RUNKF &#39;NEGF%current&#39;
</pre></div>
</div>
</div>
<div class="section" id="negf-input-options-alignment">
<h3>NEGF Input options (alignment)<a class="headerlink" href="#negf-input-options-alignment" title="Permalink to this headline">¶</a></h3>
<p>For the (optional) alignment run there are some extra keys.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NEGF
   DoAlignment Yes/No
   Alpha float
   AlignChargeTol float
   CDIIS Yes/No
End
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">NEGF</span></code></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Block</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">Options for the NEGF (non-equilibrium green function) transport calculation.</td>
</tr>
</tbody>
</table>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">DoAlignment</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">No</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set this to True if you want to do an align run. Between the leads there should be lead material. The GUI can be of help here.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Alpha</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">1e-05</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A charge error needs to be translated in a potential shift. DeltaV = alpha * DeltaQ</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">AlignChargeTol</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Float</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">In an alignment run you want to get the number of electrons in the center right. This number specifies the criterion for that.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CDIIS</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">No</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Make the normal DIIS procedure aware of the align charge error</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>The self consistent approach, unique to BAND, may be difficult to converge.  If this is true for the alignment run it can be decided to skip this run. For the final transport run, here are some tips / considerations.</p>
<ul class="simple">
<li>Use a SZ basis for the metal atoms</li>
<li>Restart (the density matrix) from the result of a smaller (such as the SZ) basis. (See “<a class="reference internal" href="../Expert_Options/Restarts.html#band-key-save"><span class="std std-ref">Save</span></a> DensityMatrix” and the <a class="reference internal" href="../Expert_Options/Restarts.html#band-key-restart"><span class="std std-ref">Restart</span></a> key)</li>
<li>Restart (the density matrix) from the result obtained with a smaller bias (only relevant for calculations with bias potential).</li>
<li>Setting NEGF%BoundOccupationMethod to 2 (and NEGF%NonEqDensityMethod to 3) might help. Note that this affects the physics: you are differently occupying the bound states.</li>
<li>Use a better NEGF%ContourQuality (there comes a computational price tag with this).</li>
</ul>
<p>If everything fails it is possible to use BAND in a <strong>non-self consistent way</strong>, similar to the way DFTB-NEGF works. This option is available via the GUI.</p>
</div>
<div class="section" id="miscellaneous-remarks-on-band-negf">
<h2>Miscellaneous remarks on BAND-NEGF<a class="headerlink" href="#miscellaneous-remarks-on-band-negf" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>You should make sure that your results are converged with respect to the number of lead repetitions; the results should not change significantly if you increase the number of lead repetitions.</li>
<li>It’s good practice to include at least one lead repetition in the central region.</li>
</ul>
<div class="section" id="store-tight-binding-hamiltonian">
<h3>Store tight-binding Hamiltonian<a class="headerlink" href="#store-tight-binding-hamiltonian" title="Permalink to this headline">¶</a></h3>
<p id="index-2">Let us consider a Fourier transformation of a 1D Bloch matrix</p>
<div class="math notranslate nohighlight">
\[S(R=na) = \int_k e^{-ikR} S(k)\]</div>
<p>In (the tight-binding) case that the functions do not extend beyond the neighboring cells only S(R=0) and S(R=a) are nonzero. (And S(R=-a) is equivalent to S(R=a))</p>
<div class="highlight-none notranslate" id="band-key-storehamiltonian2"><div class="highlight"><pre><span></span>StoreHamiltonian2 Yes/No
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">StoreHamiltonian2</span></code></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Default value:</th><td class="field-body">No</td>
</tr>
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">determine the tight-binding representation of the overlap an fock matrix. Used for (at least) NEGF.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Adding StoreHamiltonian2 to the input cause band to determine the tight-binding representation of the overlap an fock matrix. Currently this only works for 1D periodic systems. For the overlap matrix you will get two parts. The first <span class="math notranslate nohighlight">\(S(R=0)\)</span> is the (symmetric) overlap matrix of atoms in the unit cell. The second <span class="math notranslate nohighlight">\(S(R=a)\)</span> is a non symmetric matrix describing the coupling of functions in the central cell with functions in its right neighboring cell. On the RUNKF file you will find the TB representations of the overlap and Hamiltonian stored in the ‘Matrices’ section as “S(R)” and “H(R)”, being dimensioned (nBas,nBas,2).</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="ref1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> C. J. O. Verzijl and J. M. Thijssen <em>DFT-Based Molecular Transport Implementation in ADF/BAND</em>, <a class="reference external" href="https://doi.org/10.1021/jp3044225">J. Phys. Chem. C, 2012, 116 (46), pp 24393–24412</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="ref2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id3">1</a>, <a class="fn-backref" href="#id4">2</a>, <a class="fn-backref" href="#id5">3</a>, <a class="fn-backref" href="#id6">4</a>)</em> Rui Li, Jiaxing Zhang, Shimin Hou,  Zekan Qian, Ziyong Shen, Xingyu Zhao, Zengquan Xue, <em>A corrected NEGF + DFT approach for calculating electronic transport through molecular devices: Filling bound states and patching the non-equilibrium integration</em>, <a class="reference external" href="https://doi.org/10.1016/j.chemphys.2007.06.011">Chemical Physics 336 (2007) 127-135</a>.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <!--STARTNOSOLR-->
<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Expert_Options/TOC.html" class="btn btn-neutral float-right" title="Expert Options" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Analysis/ThreeD_Fields_Visualization.html" class="btn btn-neutral" title="3D field visualization with BAND" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/> 

<!-- start :: footer -->
		<footer class="site-footer block">
			<div class="container">
				<div class="row">
					<div class="footer-column" >
	<ul>
		<li id="nav_menu-2" class="widget widget_nav_menu "><h3>Application Areas</h3><div class="menu-application-areas-container"><ul id="menu-application-areas" class="menu">
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/batteries/">Batteries &#038; PVs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/chemical-bonding-analysis/">Bonding Analysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/catalysis/">Catalysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/heavy-elements/">Heavy Elements</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/inorganic-chemistry/">Inorganic Chemistry</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/pharma/">Life Sciences</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/materials-science/">Materials Science</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/nanotechnology/">Nanotechnology</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/oil-and-gas/">Oil and Gas</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/organic-electronics/">Organic Electronics</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/polymers/">Polymers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/spectroscopy/">Spectroscopy</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/teaching/">Teaching</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-7" class="widget widget_nav_menu "><h3>Products</h3><div class="menu-product-navigation-container"><ul id="menu-product-navigation" class="menu">
<li id="menu-item-40263" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40263"><a href="https://www.scm.com/product/ams/">AMS Driver</a></li>
<li id="menu-item-7235" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7235"><a href="https://www.scm.com/product/adf/">ADF</a></li>
<li id="menu-item-7236" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7236"><a href="https://www.scm.com/product/band_periodicdft/">BAND</a></li>
<li id="menu-item-7237" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7237"><a href="https://www.scm.com/product/cosmo-rs/">COSMO-RS</a></li>
<li id="menu-item-7238" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7238"><a href="https://www.scm.com/product/dftb/">DFTB</a></li>
<li id="menu-item-7239" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7239"><a href="https://www.scm.com/product/gui/">GUI</a></li>
<li id="menu-item-44383" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-44383"><a href="https://www.scm.com/product/machine-learning-potentials/">MLPotential</a></li>
<li id="menu-item-7240" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7240"><a href="https://www.scm.com/product/mopac/">MOPAC</a></li>
<li id="menu-item-40262" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40262"><a href="https://www.scm.com/product/plams/">PLAMS</a></li>
<li id="menu-item-43701" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-43701"><a href="https://www.scm.com/product/quantum-espresso/">Quantum ESPRESSO</a></li>
<li id="menu-item-7241" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7241"><a href="https://www.scm.com/product/reaxff/">ReaxFF</a></li></ul></div></li><li id="nav_menu-26" class="widget widget_nav_menu "><div class="menu-licensing-container"><ul id="menu-licensing" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/">Pricing &#038; Licensing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/">Price Quote</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/calculate-your-price/">Price Calculator</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/consulting/">Scientific Consulting</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/adf-resellers/">Resellers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/scm-license-terms/">License Terms</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/ordering-procedure/">Ordering</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-6" class="widget widget_nav_menu "><h3>Support</h3><div class="menu-support-navigation-container"><ul id="menu-support-navigation" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/">Support Overview</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-installation-videos/">Installation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-tutorials-and-manuals/">Documentation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/doc/Tutorials/GUI_overview/GUI_overview_tutorials.html">GUI Tutorials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/downloads/">Downloads</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/faq/">FAQs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/adf-discussion-list/">Discussion List</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/documentation-previous-versions/release-notes/">Release Notes</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/adf-teaching-materials/">Teaching Materials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/adf-hands-on-workshops/">Workshops</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/web-presentations-by-adf-experts/">Webinars</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/videos-tutorials-and-web-presentations/">Videos</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/brochures/">Brochure</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/amsterdam-modeling-suite/research-papers-citing-adf/">Papers Citing ADF</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/highlights/">Literature Highlights</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-28" class="widget widget_nav_menu "><h3>About Us</h3><div class="menu-about-us-container"><ul id="menu-about-us" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/contact-us/">Contact Us</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/eu-projects/">EU Projects</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-authors/">Contributors</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-people/">The SCM Team</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/collaborations/">Collaborations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/careers/">Careers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/mission-vision/">Mission &#038; Vision</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/newsletters/">Newsletters</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/news/">News</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/">Events</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
			</ul>
</div>				</div>
			</div>
		</footer>
		<footer class="disclaimer-footer">
			<img src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="">
			<nav class="menu-service-navigation-container"><ul id="menu-service-navigation" class="menu-service navbar-nav"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-73"><a href="https://www.scm.com/copyright/">Copyright</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-72"><a href="https://www.scm.com/terms-of-use/">Terms of Use</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-71"><a href="https://www.scm.com/privacy-policy/">Privacy Policy</a></li>
</ul></nav></footer>	
		<!-- end :: footer -->

<!--ENDNOSOLR-->
        </div>
      </div>

    </section>
  </div>
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2021.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCRWHZZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/../../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>