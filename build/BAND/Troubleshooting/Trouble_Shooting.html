

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
<META name="ROBOTS" content="NOINDEX, NOFOLLOW">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting &mdash; BAND 2021.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme_tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/panels-bootstrap.min.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="BAND 2021.1 documentation" href="../index.html"/>
        <link rel="up" title="Troubleshooting" href="TOC.html"/>
        <link rel="next" title="Various issues" href="Various_issues.html"/>
        <link rel="prev" title="Recommendations" href="Recommendations.html"/> 

  
  <script src="../_static/js/jquery.min.js"></script>
  <script src="../_static/js/bootstrap.min.js"></script>
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/app.js"></script>
<script type="text/javascript">
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NCRWHZZ');</script>
<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav" role="document">
  <!--STARTNOSOLR-->
  <header class="site-header navbar-fixed-top compact">
      <nav class="main navbar navbar-default">
        <div class="headerbar_container">
          <a role="button" href="/free-trial/" class="btn btn-sm btn-primary">Free trial</a>
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="navbar-brand">
              <a class="logo" href="https://www.scm.com">
                <img class="logo-small" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="Software for Chemistry &amp; Materials" />
                <img class="logo-full" src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo.svg" alt="Software for Chemistry &amp; Materials" />
              </a>
            </div>
          </div>
          <div class="nav-wrapper">
            <div class="collapse navbar-collapse">
              <ul id="menu-primary-navigation" class="nav navbar-nav"><li id="menu-item-40077" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-40077"><a title="Applications" href="https://www.scm.com/applications/">Applications</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a title="Products" href="https://www.scm.com/amsterdam-modeling-suite/">Products</a></li>
<li id="menu-item-36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-36"><a title="Support" href="https://www.scm.com/support/">Support</a></li>
<li id="menu-item-37" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-37"><a title="About us" href="https://www.scm.com/about-us/">About us</a></li>
</ul>                           <span class="search"><a class="menu_search_link" href="https://www.scm.com/search.php"></a><span class="sr-only">Search</span></span>
            </div>
          </div>
        </div>
      </nav>
 </header>
    

   
  <div id="doc-wrapper">
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" />
          
          </a>

          
          
  <ul>
      <li class="wy-breadcrumbs-aside">
        
           
           <a class="keyword-spacing" href="../keywords.html">Keywords</a>
           
           
           <a href="../genindex.html">Index</a>
           
        
      </li>
  </ul>
 
<!--ENDNOSOLR-->
             <!--STARTNOSOLR-->
<div role="search">
  <form id="rtd-search-form" class="wy-form search-docs-form" action="https://www.scm.com/search.php" method="get">
  <div class="input-group">
    <input type="text" name="search" placeholder="Search BAND" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <input type="hidden" name="root" value="doctrunk" />


    <input type="hidden" name="cat" value="doc-BAND" />


    <span class="input-group-btn">
			<button type="submit" class="btn btn-primary"><span class="sr-only">Search</span><span class="fa fa-search"></span></button>
		</span>
	</div>
  </form>
</div>
<!--ENDNOSOLR-->
          

          
        </div>
<!--STARTNOSOLR-->
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../General/TOC.html">General</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../General/Introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/feature_list.html">Feature List</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#model-hamiltonians">Model Hamiltonians</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#structure-and-reactivity">Structure and Reactivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#spectroscopy-and-properties">Spectroscopy and Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#charge-transport">Charge transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/feature_list.html#analysis">Analysis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../General/New_in_BAND.html">What’s new in Band 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/New_in_BAND.html#what-s-new-in-band-2020">What’s new in Band 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="../General/input.html">Input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#general-remarks-on-input-structure-and-parsing">General remarks on input structure and parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#keys">Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#blocks">Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#including-an-external-file">Including an external file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/input.html#units">Units</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html">AMS driver’s tasks and properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#geometry-system-definition">Geometry, System definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#tasks-exploring-the-pes">Tasks: exploring the PES</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AMSdriver_tasks_and_properties.html#properties-in-the-ams-driver">Properties in the AMS driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Model_Hamiltonians/TOC.html">Model Hamiltonians</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html">Density Functional (XC)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#lda-gga-metagga">LDA/GGA/metaGGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#dispersion-correction">Dispersion Correction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#d4-eeq">D4(EEQ)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#d3-and-d3-bj">D3 and D3-BJ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#model-potentials">Model Potentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#non-collinear-approach">Non-Collinear Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#libxc-library-integration">LibXC Library Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#range-separated-hybrid-functionals">Range-separated hybrid functionals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#defaults-and-special-cases">Defaults and special cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#gga-u">GGA+U</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#index-12">OEP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Density_Functional.html#dft-1-2">DFT-1/2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html">Relativistic Effects and Spin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html#spin-polarization">Spin polarization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Relativistic_Effects_and_Spin.html#relativistic-effects">Relativistic Effects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Solvation.html">Solvation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/COSMO.html">COSMO: Conductor like Screening Model and the Solvation-key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/COSMO.html#additional-keys-for-periodic-systems">Additional keys for periodic systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/SM12.html">SM12: Solvation Model 12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Model_Hamiltonians/SM12.html#input">Input</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html">Electric and Magnetic Fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#electric-field">Electric Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#magnetic-field">Magnetic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Model_Hamiltonians/Electric_and_Magnetic_Fields.html#atom-wise-fuzzy-potential">Atom-wise fuzzy potential</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Model_Hamiltonians/Nuclear_Model.html">Nuclear Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Accuracy_and_Efficiency/TOC.html">Accuracy and Efficiency</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html">Basis set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#basis-input-block">Basis input block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#which-basis-set-should-i-use">Which basis set should I use?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#available-basis-sets">Available Basis Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#more-basis-input-options">More Basis input options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#confinement-of-basis-functions">Confinement of basis functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#manually-specifying-atomtypes-expert-option">Manually specifying AtomTypes (expert option)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Basis_Set.html#basis-set-superposition-error-bsse">Basis Set Superposition Error (BSSE)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html">K-Space</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#kspace-input-block">KSpace input block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#regular-k-space-grid">Regular K-Space grid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#symmetric-k-space-grid-tetrahedron-method">Symmetric K-Space grid (tetrahedron method)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/K-Space_Integration.html#recommendations-for-k-space">Recommendations for k-space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html">Numerical Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#becke-grid">Becke Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#radial-grid-of-naos">Radial grid of NAOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Numerical_Integration.html#voronoi-grid-deprecated">Voronoi grid (deprecated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html">Density Fitting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#zlm-fit">Zlm Fit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#expert-options">Expert options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/Density_Fitting.html#sto-fit-deprecated">STO Fit (Deprecated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/Hartree-Fock_RI.html">Hartree–Fock RI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html">Self Consistent Field (SCF)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#scf-block">SCF block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#convergence">Convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#diis">DIIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#multisecant">Multisecant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#diris">DIRIS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html">More Technical Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#linear-scaling">Linear Scaling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#dependency">Dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#screening">Screening</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#direct-on-the-fly-calculation-of-basis-and-fit">Direct (on the fly) calculation of basis and fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#fermi-energy-search">Fermi energy search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Accuracy_and_Efficiency/More_Technical_Settings.html#block-size">Block size</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Spectroscopy_and_Properties/TOC.html">Spectroscopy and Properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Frequencies_and_Phonons.html">Frequencies and Phonons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Elastic_Tensor.html">Elastic Tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html">Optical Properties: Time-Dependent Current DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#insulators-semiconductors-and-metals">Insulators, semiconductors  and metals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#frequency-dependent-kernel">Frequency dependent kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#eels">EELS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#input-options">Input Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#newresponse">NewResponse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Spectroscopy_and_Properties/Time_Dependent_Current_DFT.html#oldresponse">OldResponse</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/ESR_EPR.html">ESR/EPR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/EFG.html">Nuclear Quadrupole Interaction (EFG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/NMR.html">NMR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Effective_Mass.html">Effective Mass</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Properties_at_Nuclei.html">Properties at Nuclei</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/X-Ray_Form_Factors.html">X-Ray Form Factors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Spectroscopy_and_Properties/Berry_Phase.html">Dipole moment and Berry Phase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Analysis/TOC.html">Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/DOS.html">Density of States (DOS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/DOS.html#gross-populations">Gross populations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/DOS.html#overlap-populations">Overlap populations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Band_Structure.html">Band Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#user-defined-path-in-the-brillouin-zone">User-defined path in the Brillouin zone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#definition-of-the-fat-bands">Definition of the Fat Bands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Band_Structure.html#band-gap">Band Gap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Charges.html">Charges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Charges.html#default-atomic-charge-analysis">Default Atomic Charge Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Charges.html#bader-analysis-aim">Bader Analysis (AIM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Fragments.html">Fragments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html">Energy Decomposition Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html#periodic-energy-decomposition-analysis-peda">Periodic Energy Decomposition Analysis (PEDA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Analysis/Energy_Decomposition_Analysis.html#periodic-energy-decomposition-analysis-and-natural-orbitals-of-chemical-valency-peda-nocv">Periodic Energy Decomposition Analysis and natural orbitals of chemical valency (PEDA-NOCV)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/LDOS.html">Local Density of States (STM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Analysis/ThreeD_Fields_Visualization.html">3D field visualization with BAND</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Electronic_Transport/NEGF.html">Electronic Transport (NEGF)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Electronic_Transport/NEGF.html#transport-with-negf-in-a-nutshell">Transport with NEGF in a nutshell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#self-consistency">Self consistency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#contour-integral">Contour integral</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#gate-potential">Gate potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#bias-potential">Bias potential</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Electronic_Transport/NEGF.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Electronic_Transport/NEGF.html#input-options">Input options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#sgf-input-options">SGF Input options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#negf-input-options-no-bias">NEGF Input options (no bias)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#negf-input-options-with-bias">NEGF Input options (with bias)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#negf-input-options-alignment">NEGF Input options (alignment)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Electronic_Transport/NEGF.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Electronic_Transport/NEGF.html#miscellaneous-remarks-on-band-negf">Miscellaneous remarks on BAND-NEGF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Electronic_Transport/NEGF.html#store-tight-binding-hamiltonian">Store tight-binding Hamiltonian</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Expert_Options/TOC.html">Expert Options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Restarts.html">Restarts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#restart-key">Restart key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#grid">Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#plots-of-the-density-potential-and-many-more-properties">Plots of the density, potential, and many more properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#orbital-plots">Orbital plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#induced-density-plots-of-response-calculations">Induced Density Plots of Response Calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#nocv-orbital-plots">NOCV Orbital Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#nocv-deformation-density-plots">NOCV Deformation Density Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#ldos-stm">LDOS (STM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Restarts.html#save">Save</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Symmetry.html">Symmetry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Expert_Options/Symmetry.html#symmetry-breaking-for-scf">Symmetry breaking for SCF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Expert_Options/Advanced_Occupation_Options.html">Advanced Occupation Options</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="TOC.html">Troubleshooting</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Recommendations.html">Recommendations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Recommendations.html#model-hamiltonian">Model Hamiltonian</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#relativistic-model">Relativistic model</a></li>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#xc-functional">XC functional</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Recommendations.html#technical-precision">Technical Precision</a></li>
<li class="toctree-l3"><a class="reference internal" href="Recommendations.html#performance">Performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#reduced-precision">Reduced precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#memory-usage">Memory usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#reduced-basis-set">Reduced basis set</a></li>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#frozen-core-for-5d-elements">Frozen core for 5d elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="Recommendations.html#performance-on-machines-with-many-cores">Performance on machines with many cores</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scf-does-not-converge">SCF does not converge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#finite-temperature-during-geometry-optimization">Finite temperature during geometry optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-does-not-converge">Geometry does not converge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#negative-frequencies-in-phonon-spectra">Negative frequencies in phonon spectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basis-set-dependency">Basis set dependency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-confinement">Using confinement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removing-basis-functions">Removing basis functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#frozen-core-too-large">Frozen core too large</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Various_issues.html">Various issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Various_issues.html#understanding-the-logfile">Understanding the logfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="Various_issues.html#breaking-the-symmetry">Breaking the symmetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="Various_issues.html#labels-for-the-basis-functions">Labels for the basis functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Various_issues.html#reference-and-startup-atoms">Reference and Startup Atoms</a></li>
<li class="toctree-l3"><a class="reference internal" href="Various_issues.html#numerical-atoms-and-basis-functions">Numerical Atoms and Basis functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Error_messages.html">Warnings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Error_messages.html#warnings-specific-to-periodic-codes-band-dftb">Warnings specific to periodic codes (BAND, DFTB)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Examples/TOC.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#model-hamiltonians">Model Hamiltonians</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BetaIron.html">Example: Spin polarization: antiferromagnetic iron</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BFieldLdotB.html">Example: Applying a Magnetic Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Graphene_Dispersion.html">Example: Graphene sheet with dispersion correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/HonPerovskite_Solvation.html">Example: H on perovskite with the COSMO solvation model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/EField.html">Example: Applying a homogeneous electric field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/FiniteNucleus.html">Example: Finite nucleus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NiO_Hubbard.html">Example: Fixing the Band gap of NiO with GGA+U</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/ZnS_ModelPotential.html">Example: Fixing the band gap of ZnS with the TB-mBJ model potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/DFTHalf_Si.html">Example: DFT-1/2 method for Silicon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#precision-and-performance">Precision and performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BasisDefaults.html">Example: Convenient way to specify a basis set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Peptide_NumericalQuality.html">Example: Tuning precision and performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Multiresolution_H2O.html">Example: Multiresolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BSSE.html">Example: BSSE correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BandAutomations.html">Example: Speed up SCF during geometry optimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#restarts">Restarts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/RestartSCF.html">Example: Restart the SCF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/RestartProperties.html">Example: Restart SCF for properties calculation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BeO_tape41.html">Example: Properties on a grid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#negf">NEGF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_Cr_wire.html">Example: Main NEGF flavors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_bias.html">Example: NEGF with bias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NEGF_Conductance.html">Example: NEGF using the non-self consistent method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#structure-and-reactivity">Structure and Reactivity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NaCl.html">Example: NaCl: Bulk Crystal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/COChainFreqTS.html">Example: Transition-State search using initial Hessian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/H_ref.html">Example: Atomic energies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BNForce.html">Example: Calculating the atomic forces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/H2BulkGeo.html">Example: Optimizing the geometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#time-dependent-dft">Time dependent DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_2DMoS2Restart.html">Example: TD-CDFT for MoS2 Monolayer (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_3DCopper.html">Example: TD-CDFT for Copper (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/NewResp_PlotInducedDensity.html">Example: TDCDFT: Plot induced density (NewResponse)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/OldResp_Diamond.html">Example: TD-CDFT for bulk diamond (OldResponse)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#spectroscopy">Spectroscopy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/TiF3a.html">Example: Hyperfine A-tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/TiF3g.html">Example: Zeeman g-tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PE-NMR.html">Example: NMR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/SnO_EFG.html">Example: EFG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/GraphenePhonons.html">Example: Phonons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#analysis">Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Frags_COCu.html">Example: CO absorption on a Cu slab: fragment option and densityplot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/GridKey.html">Example: Grid key for plotting results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDA_0D_PtCl4H2.html">Example: H2 on [PtCl4]2-: charged molecules and PEDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDA_MgO+CO.html">Example: CO absorption on a MgO slab: fragment option and PEDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PEDANOCV_MgO+CO.html">Example: CO absorption on a MgO slab: fragment option, PEDA and PEDANOCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Li2O_Bader.html">Example: Bader analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/PropertiesAtNuclei.html">Example: Properties at nuclei</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Li_BZPlot.html">Example: Band structure plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/EffectiveMass.html">Example: Effective Mass (electron mobility)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/Si_ElectronHole.html">Example: Generating an Excited State with and Electron Hole</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Examples/BNSlabLDOS.html">Example: LDOS (STM) for a BN slab</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Examples/TOC.html#list-of-examples">List of Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Required_citations.html">Required Citations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#general-references">General References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#feature-references">Feature References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#geometry-optimization">Geometry optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#tddft">TDDFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#relativistic-tddft">Relativistic TDDFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#vignale-kohn">Vignale Kohn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#nmr">NMR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#esr">ESR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Required_citations.html#negf">NEGF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Required_citations.html#external-programs-and-libraries">External programs and Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../keywords.html">Keywords</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../keywords.html#links-to-manual-entries">Links to manual entries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keywords.html#summary-of-all-keywords">Summary of all keywords</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">BAND</a>
      </nav>
<!--ENDNOSOLR-->

      
      <div class="wy-nav-content">
        <div class="rst-content">
        <!--STARTNOSOLR-->
<div class="header" role="navigation" aria-label="breadcrumbs navigation">
 
  <ul class="wy-breadcrumbs">
    <li><a href="../BAND.html/../../Documentation/index.html">Documentation</a>/</li>
    <li><a href="../index.html">BAND</a>/</li>
      
          <li><a href="TOC.html">Troubleshooting</a>/</li>
      
    <li class="orange-text">Troubleshooting</li>
  </ul>
  <p>
 
</div>
<!--ENDNOSOLR-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<div class="section" id="scf-does-not-converge">
<span id="id1"></span><h2>SCF does not converge<a class="headerlink" href="#scf-does-not-converge" title="Permalink to this headline">¶</a></h2>
<p>Some systems are more difficult to converge than others. A Pd slab for instance is easier to converge than an Fe slab. Generally, what you do in a problematic case is to go for more conservative settings. The two main option are to decrease <code class="docutils literal notranslate"><span class="pre">SCF%Mixing</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DIIS%Dimix</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SCF
   Mixing 0.05 ! more conservative mixing
End

Diis
   DiMix 0.1 ! also more conservative strategy for DIIS procedure
   Adaptable false ! disable automatic changing of dimix
End

Convergence
   Degenerate Default ! For most calculations this is quite a good idea anyway
End
</pre></div>
</div>
<p>An other option is to first run the system with a SZ basis, which may be easier to converge. Then you can <a class="reference internal" href="../Expert_Options/Restarts.html#band-key-restart"><span class="std std-ref">Restart</span></a> the SCF with a larger basis set from this result.</p>
<p>Sometimes SCF convergence problems are caused by bad precision. An indication of this is when there are many iteration after the HALFWAY message. The simplest thing to try is to see whether increasing the <code class="docutils literal notranslate"><span class="pre">NumericalAccuracy</span></code> helps. Specifically an insufficient quality of the <strong>density fit</strong> may cause problems. For systems with heavy elements the quality of the <strong>Becke grid</strong> may also play a role. Another potential problem is using <strong>only one k-point</strong>.</p>
<p>Next thing to try is the MultiSecant method. This one comes at no extra cost per SCF cycle compared to the DIIS method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SCF
  Method MultiSecant
End

MultiSecantConfig
   ! put here optional keywords to tweak the MultiSecant method
End
</pre></div>
</div>
<p>An alternative is to try a <strong>LIST</strong> method. For sure the cost of a single SCF iteration will increase, but it may reduce the number of SCF cycles, see <a class="reference internal" href="../Accuracy_and_Efficiency/SCF.html#band-key-diis"><span class="std std-ref">Diis%Variant</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Diis
  Variant LISTi ! invoke the LISTi method
End
</pre></div>
</div>
<p>For heavy elements the use of a small or no frozen core may complicate the SCF convergence.</p>
<div class="section" id="finite-temperature-during-geometry-optimization">
<h3>Finite temperature during geometry optimization<a class="headerlink" href="#finite-temperature-during-geometry-optimization" title="Permalink to this headline">¶</a></h3>
<p>Often systems are more easy to converge when applying a finite electronic temperature. By doing so your energy will deviate from the ground state. If you are optimizing, say, a fancy molecule over a Ni slab, then you do not care too much about this when the geometry is not nearly converged yet (when the gradients are still big).</p>
<p>Using so-called automations, it is possible to instruct band to use a higher electronic temperature in the beginning of a geometry optimization, and a lower one at the end. Similarly you can allow for more loose SCF convergence at the start of the geometry optimization. You specify such “automations” inside the ams-level GeometryOptimization block, for example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeometryOptimization</span>

  <span class="n">EngineAutomations</span>
     <span class="n">Gradient</span> <span class="n">variable</span><span class="o">=</span><span class="n">Convergence</span><span class="o">%</span><span class="n">ElectronicTemperature</span> <span class="n">InitialValue</span><span class="o">=</span><span class="mf">0.01</span> <span class="n">FinalValue</span><span class="o">=</span><span class="mf">0.001</span> <span class="n">HighGradient</span><span class="o">=</span><span class="mf">0.1</span> <span class="n">LowGradient</span><span class="o">=</span><span class="mf">1.0e-3</span>
     <span class="n">Iteration</span> <span class="n">variable</span><span class="o">=</span><span class="n">Convergence</span><span class="o">%</span><span class="n">Criterion</span> <span class="n">InitialValue</span><span class="o">=</span><span class="mf">1.0e-3</span> <span class="n">FinalValue</span><span class="o">=</span><span class="mf">1.0e-6</span> <span class="n">FirstIteration</span><span class="o">=</span><span class="mi">0</span> <span class="n">LastIteration</span><span class="o">=</span><span class="mi">10</span>
     <span class="n">Iteration</span> <span class="n">variable</span><span class="o">=</span><span class="n">SCF</span><span class="o">%</span><span class="n">Iterations</span> <span class="n">InitialValue</span><span class="o">=</span><span class="mi">30</span> <span class="n">FinalValue</span><span class="o">=</span><span class="mi">300</span> <span class="n">FirstIteration</span><span class="o">=</span><span class="mi">0</span> <span class="n">LastIteration</span><span class="o">=</span><span class="mi">10</span>
  <span class="n">End</span>
<span class="n">End</span>
</pre></div>
</div>
<p>Let us concentrate on the first “automation”. What this will do is the following.</p>
<ul class="simple">
<li>At the first step Convergence%ElectronicTemperature (kT) will be set to InitialValue, i.e. 0.01. (Temperatures are entered as kT in Hartree.)</li>
<li>If at any step the gradient is bigger than HighGradient the temperature will be InitialValue</li>
<li>If at any step the gradient is smaller than LowGradient the temperature will be FinalValue, i.e. 0.001</li>
<li>If the gradient is in between HighGradient and LowGradient, a linear interpolation is done (on a logarithmic scale)</li>
<li>At the last calculation FinalValue will be used, even if the geometry did not converge</li>
</ul>
<p>Another trigger for automation is the number of geometry steps taken, shown in the two automations with “Iteration”.</p>
<p>Let us look at the second automation.</p>
<ul class="simple">
<li>At the first geometry the Convergence%Criterion is relaxed to 1.0e-3.</li>
<li>After the tenth geometry step this will be 1.0e-6</li>
<li>In between an interpolated value will be used</li>
</ul>
<p>The third automation shows that you can also automate SCF%Iterations. Currently only three band keywords can be automated this way.</p>
</div>
</div>
<div class="section" id="geometry-does-not-converge">
<span id="go-does-not-converge"></span><h2>Geometry does not converge<a class="headerlink" href="#geometry-does-not-converge" title="Permalink to this headline">¶</a></h2>
<p>One thing that you should make sure is that at least the <strong>SCF converges</strong>. If that is so, then maybe the <strong>gradients are not accurate enough</strong>. Here are some settings to improve the accuracy of the gradients</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>RadialDefaults
  NR 10000   ! more radial points
End

NumericalQuality Good
</pre></div>
</div>
</div>
<div class="section" id="negative-frequencies-in-phonon-spectra">
<h2>Negative frequencies in phonon spectra<a class="headerlink" href="#negative-frequencies-in-phonon-spectra" title="Permalink to this headline">¶</a></h2>
<p>When doing a phonon calculation one sometimes encounter unphysical negative frequencies. There are two likely causes: either the <strong>geometry was not in the minimum geometry</strong>, or the <strong>step size</strong> used in the Phonon run is too large. Also <strong>general accuracy</strong> issues may be the cause, such as numerical integration, k-space integration and fit error.</p>
</div>
<div class="section" id="basis-set-dependency">
<h2>Basis set dependency<a class="headerlink" href="#basis-set-dependency" title="Permalink to this headline">¶</a></h2>
<p>A calculation aborts with the message: dependent basis. It means that for at least one k-point in the BZ the set of Bloch functions, constructed from the elementary basis functions is so close to linear dependency that the numerical accuracy of results is in danger. To check this, the program computes, for each k-point separately, the overlap matrix of the Bloch basis (normalized functions) and diagonalizes it. If the smallest eigenvalue is zero, the basis is linearly dependent. (Negative values should not occur at all!). Given the limited precision of numerical integrals and other aspects in the calculation, you are bound for trouble already if the smallest eigenvalue is very small, even if not exactly zero. The program compares it against a criterion that can be set in input (key <code class="docutils literal notranslate"><span class="pre">Dependency</span></code> option <em>Bas</em>).</p>
<p>If you encounter such an error abort, you are strongly advised not to adjust the criterion so as to pass the internal test: there were good reasons to implement the test and to set the default criterion at its current value. Rather, you should adjust your basis set. There are two ways out: using confinement or removing basis functions.</p>
<div class="section" id="using-confinement">
<h3>Using confinement<a class="headerlink" href="#using-confinement" title="Permalink to this headline">¶</a></h3>
<p>Usually the dependency problem is due to the diffuse basis functions. This is especially so for highly coordinated atoms. One way to reduce the range of the functions is to use the Confinement key. In a slab you could consider to use confinement only in the inner layers, and to use the normal basis to the surface layers. The idea is that basis functions of the surface atoms can describe the decay into the vacuum properly, and that inside the slab the diffuseness of the functions is not needed. If all the atoms of the slab are of the same type, you should make a special type for the inner layers: simply put them in a separate Atoms block. The confinement can be specified per type.</p>
</div>
<div class="section" id="removing-basis-functions">
<h3>Removing basis functions<a class="headerlink" href="#removing-basis-functions" title="Permalink to this headline">¶</a></h3>
<p>You can remove one or more basis functions and maybe modify some of the (other) STO basis functions. The program prints information that helps you determine which basis functions should be modified/removed. Another way to modify your basis set, is to use the confinement keyword. This has the effect of making the diffuse basis functions more localized, thus reducing problematically large overlap with similar functions on neighboring atoms.</p>
<p>In the standard output file, after the error message, you will find a list of eigenvalues of the overlap matrix. If only the first is smaller than the threshold, you should remove one basis function. If more eigenvalues are very small, it is likely that you have to remove more than one function, although you can of course try how far you can get by eliminating just one.</p>
<p>Next the program prints the so-called Dependency Coefficients: a list of numbers, one for each basis function. Those with a large value are the suspicious ones. If you find two coefficients that are significantly larger than the others, you should replace the two corresponding functions by one. Easiest is to remove one of them (take the one with the bigger coefficient). If one of them is a numerical orbital from Dirac and the other an STO, remove the STO. If both are STOs, remove one and replace the other by some kind of average (regarding the radial characteristic: exponential factor and power of radial coordinate).</p>
<p>To identify how the functions in your input correspond to the list the underlies the series of Dependency Coefficients, you have to set up the list of basis functions as follows:</p>
<ul class="simple">
<li>Consider an outer loop over all atom TYPES. These correspond, in order as well as in number, to the sequence of AtomType keys in your input file.</li>
<li>For each type, consider a loop over all atoms of that type, i.e. the atoms in the ATOM block corresponding to the AtomType key at hand.</li>
<li>For each atom (each AtomType key), first write down all DIRAC basis functions, then all STOs. When writing down the functions, be aware that each entry in your input file specifies a function <em>set</em>, by the quantum number L and hence corresponds to 2L+1 actual basis functions.</li>
<li>Regarding the DIRAC basis functions: they belong to the list of basis functions only if the key Valence occurs in the pertaining DIRAC input block. If not, no DIRAC functions of that type are included in the basis.     <em>If</em> the Dirac functions are included, you must omit the Core functions and include only the Valence functions from that DIRAC block. The first record in your DIRAC block with two numbers defines (by the first number) the total number of function sets in the DIRAC block (which you can verify by simple counting) and (by the second number) the number of Core function sets among them. The Core function sets, if any, are always the first so many in the list in the DIRAC block.</li>
</ul>
<p>The program stops as soon as it encounters a dependency problem. This may happen for the first k-point. After you have adjusted the basis set following the above guidelines, you will have solved it. However, it may easily happen that the problem shows up again, but now for another (later) k-point, where other entries in the basis set may cause trouble. Do not think you have repaired the first problem incorrectly. Just repeat the procedure until you pass all k-points in the basis set construction without errors. Typically (as a last remark), although not necessarily, the first k-point may have a dependency problem from too many <em>s</em>-type functions, while other k-points may be more sensitive to the series of <em>p</em>-functions in your basis.</p>
</div>
</div>
<div class="section" id="frozen-core-too-large">
<h2>Frozen core too large<a class="headerlink" href="#frozen-core-too-large" title="Permalink to this headline">¶</a></h2>
<p>BAND calculates the overlap matrix of the core functions, and this should approximate the unit matrix. When the deviation is larger then the frozen-core overlap criterion the program stops. The default criterion (0.98) is fairly strict. The safest solution is to choose a smaller frozen core. For performance reasons, however, this may not be the preferred option. In practice you might still get reliable results by setting the criterion to 0.8, see the :ref:Dependency &lt;band-key-Dependency&gt;` block. For the <em>5d</em> transition metals, for instance, you can often freeze the 4f orbital, thus reducing the basis set considerably. We strongly advise you to compare these results to a calculation with a smaller core. Such tests can be performed with a smaller unit cell or with a lower quality for the <code class="docutils literal notranslate"><span class="pre">KSPACE</span></code> block key.</p>
</div>
</div>


           </div>
          </div>
          <!--STARTNOSOLR-->
<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Various_issues.html" class="btn btn-neutral float-right" title="Various issues" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Recommendations.html" class="btn btn-neutral" title="Recommendations" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/> 

<!-- start :: footer -->
		<footer class="site-footer block">
			<div class="container">
				<div class="row">
					<div class="footer-column" >
	<ul>
		<li id="nav_menu-2" class="widget widget_nav_menu "><h3>Application Areas</h3><div class="menu-application-areas-container"><ul id="menu-application-areas" class="menu">
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/batteries/">Batteries &#038; PVs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/chemical-bonding-analysis/">Bonding Analysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/catalysis/">Catalysis</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/heavy-elements/">Heavy Elements</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/inorganic-chemistry/">Inorganic Chemistry</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/pharma/">Life Sciences</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/materials-science/">Materials Science</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/nanotechnology/">Nanotechnology</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/oil-and-gas/">Oil and Gas</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/organic-electronics/">Organic Electronics</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/polymers/">Polymers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/spectroscopy/">Spectroscopy</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/applications/teaching/">Teaching</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-7" class="widget widget_nav_menu "><h3>Products</h3><div class="menu-product-navigation-container"><ul id="menu-product-navigation" class="menu">
<li id="menu-item-40263" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40263"><a href="https://www.scm.com/product/ams/">AMS Driver</a></li>
<li id="menu-item-7235" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7235"><a href="https://www.scm.com/product/adf/">ADF</a></li>
<li id="menu-item-7236" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7236"><a href="https://www.scm.com/product/band_periodicdft/">BAND</a></li>
<li id="menu-item-7237" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7237"><a href="https://www.scm.com/product/cosmo-rs/">COSMO-RS</a></li>
<li id="menu-item-7238" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7238"><a href="https://www.scm.com/product/dftb/">DFTB</a></li>
<li id="menu-item-7239" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7239"><a href="https://www.scm.com/product/gui/">GUI</a></li>
<li id="menu-item-44383" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-44383"><a href="https://www.scm.com/product/machine-learning-potentials/">MLPotential</a></li>
<li id="menu-item-7240" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7240"><a href="https://www.scm.com/product/mopac/">MOPAC</a></li>
<li id="menu-item-40262" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-40262"><a href="https://www.scm.com/product/plams/">PLAMS</a></li>
<li id="menu-item-43701" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-43701"><a href="https://www.scm.com/product/quantum-espresso/">Quantum ESPRESSO</a></li>
<li id="menu-item-7241" class="menu-item menu-item-type-post_type menu-item-object-product menu-item-7241"><a href="https://www.scm.com/product/reaxff/">ReaxFF</a></li></ul></div></li><li id="nav_menu-26" class="widget widget_nav_menu "><div class="menu-licensing-container"><ul id="menu-licensing" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/">Pricing &#038; Licensing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/">Price Quote</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/price-quote/calculate-your-price/">Price Calculator</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/consulting/">Scientific Consulting</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/adf-resellers/">Resellers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/scm-license-terms/">License Terms</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/pricing-licensing/ordering-procedure/">Ordering</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-6" class="widget widget_nav_menu "><h3>Support</h3><div class="menu-support-navigation-container"><ul id="menu-support-navigation" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/">Support Overview</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-installation-videos/">Installation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/ams-tutorials-and-manuals/">Documentation</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/doc/Tutorials/GUI_overview/GUI_overview_tutorials.html">GUI Tutorials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/downloads/">Downloads</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/faq/">FAQs</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/adf-discussion-list/">Discussion List</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/support/documentation-previous-versions/release-notes/">Release Notes</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/support/adf-teaching-materials/">Teaching Materials</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/adf-hands-on-workshops/">Workshops</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/web-presentations-by-adf-experts/">Webinars</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/videos-tutorials-and-web-presentations/">Videos</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/amsterdam-modeling-suite/brochures/">Brochure</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/amsterdam-modeling-suite/research-papers-citing-adf/">Papers Citing ADF</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/highlights/">Literature Highlights</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
		<li id="nav_menu-28" class="widget widget_nav_menu "><h3>About Us</h3><div class="menu-about-us-container"><ul id="menu-about-us" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/contact-us/">Contact Us</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/eu-projects/">EU Projects</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-authors/">Contributors</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/our-people/">The SCM Team</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/collaborations/">Collaborations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/careers/">Careers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/mission-vision/">Mission &#038; Vision</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/newsletters/">Newsletters</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.scm.com/category/news/">News</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.scm.com/about-us/news-agenda/">Events</a></li>
</ul></div></li>	</ul>
</div><div class="footer-column" >
	<ul>
			</ul>
</div>				</div>
			</div>
		</footer>
		<footer class="disclaimer-footer">
			<img src="https://www.scm.com/wp-content/themes/scm/images/logos/scm-logo-compact.svg" alt="">
			<nav class="menu-service-navigation-container"><ul id="menu-service-navigation" class="menu-service navbar-nav"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-73"><a href="https://www.scm.com/copyright/">Copyright</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-72"><a href="https://www.scm.com/terms-of-use/">Terms of Use</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-71"><a href="https://www.scm.com/privacy-policy/">Privacy Policy</a></li>
</ul></nav></footer>	
		<!-- end :: footer -->

<!--ENDNOSOLR-->
        </div>
      </div>

    </section>
  </div>
  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2021.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCRWHZZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/../../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>